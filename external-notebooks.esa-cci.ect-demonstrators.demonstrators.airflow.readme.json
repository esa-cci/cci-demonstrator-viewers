{"version":3,"kind":"Article","sha256":"c90a7155e915b10211c7631ee55b91ac1a94fbdd21f4d7d5724b51fbbe711e60","slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.airflow.readme","location":"/external_notebooks/esa-cci/ect-demonstrators/demonstrators/Airflow/README.md","dependencies":[],"frontmatter":{"title":"Airflow Demonstrator","content_includes_title":false,"github":"https://github.com/esa-cci/cci-notebook-viewers","subject":"CCI Examples","numbering":{"title":{"offset":5}},"source_url":"https://github.com/esa-cci/cci-notebook-viewers/blob/main/external_notebooks/esa-cci/ect-demonstrators/demonstrators/Airflow/README.md","edit_url":"https://github.com/esa-cci/cci-notebook-viewers/edit/main/external_notebooks/esa-cci/ect-demonstrators/demonstrators/Airflow/README.md","exports":[{"format":"md","filename":"README.md","url":"/cci-demonstrator-viewers/build/README-93bdaed669c0003db7b5f9b2df6b19c5.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This demonstrator has been tested on a Linux environment.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VJrhPeW4FC"}],"key":"BeLCPMHHL4"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"It shows how Apache Airflow can be used to run a workflow including functionality from the ESA Climate Toolbox.\nAs stated on their ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"RfboEM32q7"},{"type":"link","url":"https://airflow.apache.org/","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"website","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wyzWlIkLJg"}],"urlSource":"https://airflow.apache.org/","key":"vfRnhLL39j"},{"type":"text","value":", Apache Airflow is a platform created by the community to programmatically author, schedule and monitor workflows.\nWorkflows are defined once and may be rerun multiple times.\nThey come in the form of Directed Acyclic Graphs (DAGs).\nFor this demonstrator, we have set up such a dag, which can be seen in the file ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"W00gcOUl2C"},{"type":"inlineCode","value":"dag_config.yaml","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"riark1BX11"},{"type":"text","value":" in the dags folder.\nYou can read more about specifics of how a configuration file can be set up ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"E5SH2VJ7tG"},{"type":"link","url":"https://github.com/bcdev/gaiaflow/blob/main/%7B%7B%20cookiecutter.folder_name%20%7D%7D/dags/change_me_config.yml","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"rU3qXzCIZK"}],"urlSource":"https://github.com/bcdev/gaiaflow/blob/main/%7B%7B%20cookiecutter.folder_name%20%7D%7D/dags/change_me_config.yml","data":{"kind":"file","org":"bcdev","repo":"gaiaflow","reference":"main","file":"%7B%7B%20cookiecutter.folder_name%20%7D%7D/dags/change_me_config.yml","raw":"https://raw.githubusercontent.com/bcdev/gaiaflow/main/%7B%7B%20cookiecutter.folder_name%20%7D%7D/dags/change_me_config.yml"},"internal":false,"protocol":"github","key":"m71bMl5vKI"},{"type":"text","value":".\nWe explain the particularities of the DAG in the following section, if you want to run the demonstrator immediately, go to ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DjbaLzQQKy"},{"type":"link","url":"(#prerequisites-to-run-the-demonstrator)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"T39SClXdgz"}],"urlSource":"(#prerequisites-to-run-the-demonstrator)","key":"efvBZjq2KH"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cHyq8hRSkE"}],"key":"Hexyj5nYbP"},{"type":"heading","depth":2,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"The Directed Acyclic Graph (DAG)","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"RdbcIRBFWx"}],"identifier":"the-directed-acyclic-graph-dag","label":"The Directed Acyclic Graph (DAG)","html_id":"the-directed-acyclic-graph-dag","implicit":true,"key":"ii0FfXiSmk"},{"type":"paragraph","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"The dag is specified in the section ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"oKWtextzZY"},{"type":"inlineCode","value":"esa_climate_toolbox_ops_dag","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"d76YE7LpCy"},{"type":"text","value":". This is the name under which the dag will later be found in the UI.","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"BFfvI5UByE"}],"key":"yfoA7adyQ0"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"In this section, there are sub-sections ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"djHPrNEAj2"},{"type":"inlineCode","value":"task_groups","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"qbyLUCiulK"},{"type":"text","value":" and ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"qsrvQzperV"},{"type":"inlineCode","value":"tasks","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"elGyuak7c9"},{"type":"text","value":".\nTask Groups are helpful to group tasks, which can come in handy for large processes.\nHere, we only specify one group, ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"srZnij7lHE"},{"type":"inlineCode","value":"ect_tasks","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"QQS9YUOlFF"},{"type":"text","value":".\nIn ","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"yB3cO7zWy8"},{"type":"inlineCode","value":"tasks","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"OUu55Hh8Jg"},{"type":"text","value":", we dfine the actual sub processes.\nThere are three of them:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"qDc8jgMhh3"}],"key":"HsSTdow8oA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":22,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"chain","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"laqjdDJ25H"},{"type":"text","value":" runs a chain of ESA Climate Toolbox Operations on a dataset and writes the result to disk","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"PmEA1sNS2w"}],"key":"oliFoVWfn5"}],"key":"V8jB6f0Pwh"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"plot","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"iNbCHIQ7Rf"},{"type":"text","value":" creates a plot from this result","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"FaB1Z8aZhq"}],"key":"bH0pUVKUGr"}],"key":"NPE6qsXgDt"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"delete_folder","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"m0ZURY4Mpc"},{"type":"text","value":" deletes the folder that included the data written by the ","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"Jt3ve3L5oH"},{"type":"inlineCode","value":"chain","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"QSxMc7oPl2"},{"type":"text","value":" task","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"jzrtUQdQWT"}],"key":"OYh7KEW8nU"}],"key":"qDMlxaZfzE"}],"key":"FKWm2HCIwM"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Tasks ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"RwyXJMEV2l"},{"type":"inlineCode","value":"chain","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"vrwzEbxEF5"},{"type":"text","value":" and ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"YlMxlsiItC"},{"type":"inlineCode","value":"plot","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"AmEw56Djp2"},{"type":"text","value":" are Python tasks - and hence use a PythonOperator - whilst ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"x4dhZlQjFc"},{"type":"inlineCode","value":"delete_folder","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"RD78ROGKCg"},{"type":"text","value":" merely executs a bash command, so it uses a ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"FYBaTd7SUu"},{"type":"inlineCode","value":"BashOperator","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"lJxDnJmyp8"},{"type":"text","value":", as can be seen in the respective task’s entries for the field ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"lAu3FMJ8rY"},{"type":"inlineCode","value":"operator","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"ktbW0lQ8rF"},{"type":"text","value":".\nBesides these, there is a large sum of operators, many of whom have been designed to cater to specific tasks (if you are interested, you can find a full list ","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"aNXRJaKt1K"},{"type":"link","url":"https://registry.astronomer.io/modules?typeName=Operators&_gl=1*1s3aunx*_up*MQ..*_ga*NTEyMzEyNy4xNzQ3ODMyNDM2*_ga_W97HK48NPT*czE3NDc4MzI0MzUkbzEkZzAkdDE3NDc4MzI0MzUkajAkbDAkaDA.*_ga_14DHW7X721*czE3NDc4MzI0MzUkbzEkZzAkdDE3NDc4MzI0MzUkajAkbDAkaDA.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"KFqIdMsxfM"}],"urlSource":"https://registry.astronomer.io/modules?typeName=Operators&_gl=1*1s3aunx*_up*MQ..*_ga*NTEyMzEyNy4xNzQ3ODMyNDM2*_ga_W97HK48NPT*czE3NDc4MzI0MzUkbzEkZzAkdDE3NDc4MzI0MzUkajAkbDAkaDA.*_ga_14DHW7X721*czE3NDc4MzI0MzUkbzEkZzAkdDE3NDc4MzI0MzUkajAkbDAkaDA.","key":"a9NoRYR63i"},{"type":"text","value":").","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"A59dwS3NQP"}],"key":"tBG2yLcoiN"},{"type":"paragraph","position":{"start":{"line":29,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Python operators must point to a specific Python function. This function can either be provided by a package (as is the case in the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"q6HmqyBiWm"},{"type":"inlineCode","value":"chain","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"LmUfaLyVl3"},{"type":"text","value":" task, where we point to the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"HDU6kwaIPR"},{"type":"inlineCode","value":"execute_operations","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"XrUCsg31sg"},{"type":"text","value":" function from the ESA CCI Toolbox, which allows to run multiple operations consecutively (and which is documented ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"WBfU9f1UgZ"},{"type":"link","url":"https://esa-climate-toolbox.readthedocs.io/en/latest/api_reference.html#esa_climate_toolbox.core.execute_operations","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"EMdo1yO76j"}],"urlSource":"https://esa-climate-toolbox.readthedocs.io/en/latest/api_reference.html#esa_climate_toolbox.core.execute_operations","key":"t0uosCkjdv"},{"type":"text","value":")) or as a dedicated Python function, which we did for the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"nQwQuzh2hR"},{"type":"inlineCode","value":"plot","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"CeTGakWEvU"},{"type":"text","value":" task, where the function ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"Akg6uoJphO"},{"type":"inlineCode","value":"plot_chain_output","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"Vcnp9dVvRk"},{"type":"text","value":" is provided in the module ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"AqmIfMjZLU"},{"type":"inlineCode","value":"plot_functions.py","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"AJ9wCNtcD3"},{"type":"text","value":" in the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"jp02oC0tSx"},{"type":"inlineCode","value":"dags/functions","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"Gz0yWfxUI1"},{"type":"text","value":" folder.\nNote that it would have been possible to add the plotting operation to the chain, but for the purposes of this demonstrator, we wanted to show two different approaches.\nBoth Python operators receive their parameters from the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"nCYutHFR8W"},{"type":"inlineCode","value":"op_kwargs","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"LP4gBF6C2d"},{"type":"text","value":" sections in the tasks.\nFor the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"CeN7PJOT8Q"},{"type":"inlineCode","value":"chain","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"QSNmYVMcc4"},{"type":"text","value":" task, you see that we pick an aerosol dataset as input, create temporal, spatial, and thematic subsets, and ultimately write the result to an output_folder.\nThis provides a way to run ESA Climate Toolbox operations without interacting with Python directly.\nFor the ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"a8WfAMcz9s"},{"type":"inlineCode","value":"plot","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"TjtMhnuJpR"},{"type":"text","value":" task, we pick one of the variables of the dataset to plot and pick a name for the output file (for visualisation purposes, we here choose a region that is slightly larger than the subset region defined in ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"YBzD33usEm"},{"type":"inlineCode","value":"chain","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"NQkuvdVBJI"},{"type":"text","value":").\nWhat’s further of importance to point out for the tasks is that it is here where we specify the pertinence of a task to a task group (in ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"whCCUozQfY"},{"type":"inlineCode","value":"task_group_name","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"L1p7u3mf2V"},{"type":"text","value":") and define dependencies between tasks in dependencies.\nThe dependency ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"ZXiQf87XkH"},{"type":"inlineCode","value":"[ chain ]","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"nESVmQ3nrF"},{"type":"text","value":" in ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"DYie5E8YqD"},{"type":"inlineCode","value":"plot","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"SpsW1hfH99"},{"type":"text","value":" says that the task ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"hIK3i1jHh9"},{"type":"inlineCode","value":"plot","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"mvkbEmn6iW"},{"type":"text","value":" will not start before the task ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"DrAtufl9U1"},{"type":"inlineCode","value":"chain","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"ZEF5WGgu9Z"},{"type":"text","value":" has finished.\nFinally, ","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"go8peOsGPD"},{"type":"inlineCode","value":"do_xcom_push","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"KydvUZbEnP"},{"type":"text","value":" is set to False, which means that no information is passed between tasks.","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"GuCUfg4JK2"}],"key":"JuXP6TmZAK"},{"type":"paragraph","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"The last task, ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"YF9a2mN5kI"},{"type":"inlineCode","value":"delete_folder","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"mvSYvyMQ2q"},{"type":"text","value":", ultimately executes the bash command which deletes the folder with the output from ","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"UgfkUhUd0o"},{"type":"inlineCode","value":"chain","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"iA6tzelYh6"},{"type":"text","value":". Remove this task if you want to keep the result.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"nwPwiSRpPG"}],"key":"ifSBqJi6ey"},{"type":"heading","depth":2,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"Prerequisites to run the Demonstrator","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"JDXDAxRjiA"}],"identifier":"prerequisites-to-run-the-demonstrator","label":"Prerequisites to run the Demonstrator","html_id":"prerequisites-to-run-the-demonstrator","implicit":true,"key":"Q6PsqQRLvB"},{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"To run this demonstrator, you need mamba (from ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"kHLlpQlmEf"},{"type":"link","url":"https://github.com/conda-forge/miniforge","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"here","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"IpfM6ISJdc"}],"urlSource":"https://github.com/conda-forge/miniforge","error":true,"key":"b9Ac8ppM78"},{"type":"text","value":"), alternatively conda.\nWhen you have mamba configured, you can create a dedicated environment using the provided file ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"TJZHtKdJpB"},{"type":"inlineCode","value":"environment.yml","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"RUsRlL0JAP"},{"type":"text","value":".\nTo do that, run","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"KpowtlFHW5"}],"key":"imLJR0VFt8"},{"type":"code","lang":"shell","value":"    mamba env create -f environment.yml","position":{"start":{"line":46,"column":1},"end":{"line":48,"column":1}},"key":"kHu7NIY5Cj"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"This will install all the libraries required.\nNext, export the following environment variables","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"iPeVyEW8Im"}],"key":"f08InYl9li"},{"type":"code","lang":"shell","value":"    export AIRFLOW_HOME=$(pwd)\n    export AIRFLOW__CORE__LOAD_EXAMPLES=false","position":{"start":{"line":51,"column":1},"end":{"line":54,"column":1}},"key":"MAaKAAnqsP"},{"type":"paragraph","position":{"start":{"line":55,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"The first one will make the current folder the working directory, so that all outputs are written there.\nThe second one will prevent other dags from being loaded in, which makes it easier to keep an overview.\nNext, switch to the environment you had just created.","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"lblOqOxWcr"}],"key":"KW6XaZv5v0"},{"type":"code","lang":"shell","value":"    mamba activate airflow-ect","position":{"start":{"line":58,"column":1},"end":{"line":60,"column":1}},"key":"StaWzk2edt"},{"type":"paragraph","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"You can now run Airflow as a stand-alone server.","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"i0jWOqJ8Rp"}],"key":"PA7H0qnTdW"},{"type":"code","lang":"shell","value":"    airflow standalone","position":{"start":{"line":62,"column":1},"end":{"line":64,"column":1}},"key":"xGsFtomQoG"},{"type":"paragraph","position":{"start":{"line":66,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"Running this will create a long output. In this output, you will find a username (which is admin) and a password which changes on every restart.\nAlso, this will start an airflow server available at ","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"tBYlbvieQS"},{"type":"link","url":"http://0.0.0.0:8080","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"text","value":"http://0.0.0.0:8080","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"gP3mQRjSh3"}],"urlSource":"http://0.0.0.0:8080","key":"sQx620eqPH"},{"type":"text","value":" .\nOpen this address in your browser, where you will be asked for the username and password.\nAfter providing the credentials, you will see the start screen, with the DAG ","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"usRVyVr7M4"},{"type":"inlineCode","value":"esa_climate_toolbox_ops_dag","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"NkIouud07P"},{"type":"text","value":" loaded in.\nAt the far right, there is a green arrow which allows to trigger the DAG.\nIf you then click on the name of the DAG, you are brought to a page where you can see the state of processing.\nIn the ","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"wk2mD1n6jR"},{"type":"inlineCode","value":"graph","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"o824hmG9bX"},{"type":"text","value":" view, you can see the individual tasks, grouped in the task group.\nIf you select one of the tasks and then ","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"gADjZRZ8k0"},{"type":"inlineCode","value":"Logs","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"NJnRkv1fDe"},{"type":"text","value":", you see information on the progress.\nIf all tasks have finished, in your working directory there will be a file ","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"GBJ40xTkb9"},{"type":"inlineCode","value":"airflow_plot.png","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"SxbUEsUaVY"},{"type":"text","value":" showing aerosol optical thickness at 550 nm over Europe on May 20th, 2002.","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"TyIwakxaai"}],"key":"N13cIErTwk"}],"key":"gWfNkX6oJ0"}],"key":"Zs9t65zoVy"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"ect-demonstrators","url":"/external-notebooks/esa-cci/ect-demonstrators/readme","group":"Ect Demonstrators"},"next":{"title":"Matching FIRE Data with Sentinel-2 Observations","url":"/external-notebooks/esa-cci/ect-demonstrators/demonstrators/cdse/matching-fire-data-with-sentinel-2-observations","group":"CDSE"}}},"domain":"http://localhost:3000"}