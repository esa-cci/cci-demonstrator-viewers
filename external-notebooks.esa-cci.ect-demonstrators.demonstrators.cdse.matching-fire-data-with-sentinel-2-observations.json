{"version":3,"kind":"Notebook","sha256":"b9104b1ec53b7805e9f26d90e0a93cecbbcee78b46afe19f0b47be71eea6ebde","slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-fire-data-with-sentinel-2-observations","location":"/external_notebooks/esa-cci/ect-demonstrators/demonstrators/CDSE/Matching-FIRE_Data with_Sentinel-2_Observations.ipynb","dependencies":[],"frontmatter":{"title":"Matching FIRE Data with Sentinel-2 Observations","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"github":"https://github.com/esa-cci/cci-notebook-viewers","subject":"CCI Examples","numbering":{"title":{"offset":5}},"source_url":"https://github.com/esa-cci/cci-notebook-viewers/blob/main/external_notebooks/esa-cci/ect-demonstrators/demonstrators/CDSE/Matching-FIRE_Data with_Sentinel-2_Observations.ipynb","edit_url":"https://github.com/esa-cci/cci-notebook-viewers/edit/main/external_notebooks/esa-cci/ect-demonstrators/demonstrators/CDSE/Matching-FIRE_Data with_Sentinel-2_Observations.ipynb","exports":[{"format":"ipynb","filename":"Matching-FIRE_Data with_Sentinel-2_Observations.ipynb","url":"/cci-demonstrator-viewers/build/Matching-FIRE_Data w-31970e1ba286754f3966da0fd59942bb.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This notebook serves to demonstrate how data from the CCI FIRE ECV can be matched against single Sentinel-2 Observations provided by the Copernicus Data Space Ecosystem (CDSE). For this, we open the data sets separately and apply operations, some of whom provided by the ESA CCI Toolbox, to bring the data together.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VLaWA4r5si"}],"key":"lolkrHxxPY"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook runs in any Python environment which has the following packages installed:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NKqXFBg1Kg"}],"key":"KIBIncoSqK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"esa-climate-toolbox","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"brMNOYHS37"}],"key":"YS1WUVkjBw"}],"key":"QxgNJFROel"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"xcube-stac","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vSGbsgipW8"}],"key":"rm7e1xWV0D"}],"key":"lbXuG2JNor"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"jupyterlab","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"va81Mm1bVd"}],"key":"D657FJgfHK"}],"key":"aMuOBuuP6w"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"libgdal-netcdf","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"YDhvfctP06"}],"key":"J7v55HVP1l"}],"key":"LoCnVvjFsi"}],"key":"CFpgHK9BGq"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"For convenience, there is an environment.yml in the folder next to this notebook you can use to create such an environment.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"kOeiSLeezt"}],"key":"oPPry8PoyY"}],"key":"svaFyGooQx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We start with necessary imports beforehand.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MJruV2XnYS"}],"key":"xuEpApnrIY"}],"key":"GQzsMd3JAY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nimport numpy as np\n\nfrom xcube.core.gridmapping import GridMapping\nfrom xcube.core.resampling import resample_in_space\n\nfrom xcube.core.store import new_data_store\n\nfrom esa_climate_toolbox.core import get_op\nfrom esa_climate_toolbox.core import list_ecv_datasets\nfrom esa_climate_toolbox.core import open_data","key":"lQEDxntooM"},{"type":"outputs","id":"Ill1SBnfSzDNzC6yAJyQ7","children":[],"key":"jreOROwq1z"}],"key":"UOHBnFxnLc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%matplotlib inline","key":"p45n6j57km"},{"type":"outputs","id":"yGqLstKMq2GTAVuHHaP1H","children":[],"key":"O4DRnmpcev"}],"key":"hNhru6Mu4d"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As the CDSE provides data from the Copernicus Sentinel missions, it suggests itself to aim for combinations with data that is based on Sentinel missions. Using ‘list_ecv_datasets’, we may search for datasets for any ECV. We particularly want to look for FIRE data derived from Sentinel data. We may look for such datasets like this:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"anYtEmzIRA"}],"key":"YzevfzTQTq"}],"key":"X7ovdUq3xc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"datasets = [(dataset, store) for dataset, store in list_ecv_datasets(\"FIRE\") if \"Sentinel\" in dataset]\ndatasets","key":"bPiGl3Kytx"},{"type":"outputs","id":"tPEllY52H9-4SzOyWlpxW","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content_type":"text/plain","hash":"6dc20a06944b6397da55260dc3110f0d","path":"/cci-demonstrator-viewers/build/6dc20a06944b6397da55260dc3110f0d.txt"}}},"children":[],"key":"d49Pd4CJJP"}],"key":"GK6aKR4ZG8"}],"key":"AEdOIKaKI0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Of these, we pick the very first one, esacci.FIRE.mon.L4.BA.MSI-(Sentinel-2).Sentinel-2A.MSI.2-0.grid, which is provided on a global grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hImRUhs1am"}],"key":"Ii8CVU5x42"}],"key":"Ekj89GEomL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fire_ds, ds_name = open_data(\"esacci.FIRE.mon.L4.BA.MSI-(Sentinel-2).Sentinel-2A.MSI.2-0.grid\")\nfire_ds","key":"tI0AEIbnT1"},{"type":"outputs","id":"_Vv8Zy-J504cEIOTPygmY","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"db612ff75198a6c3199ea0a58c020a66","path":"/cci-demonstrator-viewers/build/db612ff75198a6c3199ea0a58c020a66.html"},"text/plain":{"content":"<xarray.Dataset> Size: 27GB\nDimensions:                          (time: 12, lat: 3600, lon: 7200,\n                                      vegetation_class: 18, bounds: 2, bnds: 2)\nCoordinates:\n  * lat                              (lat) float64 29kB 89.97 89.92 ... -89.97\n    lat_bounds                       (lat, bounds) float64 58kB dask.array<chunksize=(3600, 2), meta=np.ndarray>\n  * lon                              (lon) float64 58kB -180.0 -179.9 ... 180.0\n    lon_bounds                       (lon, bounds) float64 115kB dask.array<chunksize=(7200, 2), meta=np.ndarray>\n  * time                             (time) datetime64[ns] 96B 2019-01-16T12:...\n    time_bnds                        (time, bnds) datetime64[ns] 192B dask.array<chunksize=(12, 2), meta=np.ndarray>\n  * vegetation_class                 (vegetation_class) int32 72B 10 20 ... 180\nDimensions without coordinates: bounds, bnds\nData variables:\n    burned_area                      (time, lat, lon) float32 1GB dask.array<chunksize=(1, 1800, 1800), meta=np.ndarray>\n    burned_area_in_vegetation_class  (time, vegetation_class, lat, lon) float32 22GB dask.array<chunksize=(1, 18, 450, 480), meta=np.ndarray>\n    crs                              float64 8B ...\n    fraction_of_burnable_area        (time, lat, lon) float32 1GB dask.array<chunksize=(1, 1800, 1800), meta=np.ndarray>\n    fraction_of_observed_area        (time, lat, lon) float32 1GB dask.array<chunksize=(1, 1800, 1800), meta=np.ndarray>\n    standard_error                   (time, lat, lon) float32 1GB dask.array<chunksize=(1, 1800, 1800), meta=np.ndarray>\n    time_bounds                      (time, bounds) float32 96B dask.array<chunksize=(1, 2), meta=np.ndarray>\nAttributes:\n    Conventions:             CF-1.7\n    title:                   esacci.FIRE.mon.L4.BA.MSI-(Sentinel-2).Sentinel-...\n    date_created:            2025-09-29T15:48:30.342376\n    processing_level:        L4\n    time_coverage_start:     2019-01-01T00:00:00\n    time_coverage_end:       2020-01-01T00:00:00\n    time_coverage_duration:  P365DT0H0M0S\n    history:                 [{'program': 'xcube_cci.chunkstore.CciChunkStore...","content_type":"text/plain"}}},"children":[],"key":"M2GsBXfJAJ"}],"key":"aqI2ec8WRs"}],"key":"LtGEQbfT0E"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We now plot data from the very first timestep.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cSZuhoUP6J"}],"key":"NdOsWNwfWk"}],"key":"Km7ZeRtWQ3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"subset_time_index = get_op(\"subset_temporal_index\")","key":"s27z7r5idO"},{"type":"outputs","id":"U2W2ILMHpScCcSqWkGxvK","children":[],"key":"Zb6uc3pvpx"}],"key":"zUWFUM1Suj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"temp_sub_ds = subset_time_index(fire_ds, 0, 0)\ntemp_sub_ds.burned_area.plot()","key":"RUKD7v6dUF"},{"type":"outputs","id":"zBN5_oXg2FrIyAtwrBaWS","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"783e7ff6cf2d1afd537a5844daf46725","path":"/cci-demonstrator-viewers/build/783e7ff6cf2d1afd537a5844daf46725.png"},"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"MZNVUAneyx"}],"key":"Cn7ikWNPUf"}],"key":"MnoP0yOy7J"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As fire data only seems to be present in the center of the data, we select another subset, this time a spatial one.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sgT2d5rL92"}],"key":"u4zapQlx9C"}],"key":"hkjNMk8ptE"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"subset_spatial = get_op(\"subset_spatial\")","key":"xdwXELrcpP"},{"type":"outputs","id":"E_J10QdmUuFpzhSc9SpX4","children":[],"key":"NKzmgyzBHg"}],"key":"nRjJj9HiZF"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"spat_temp_sub_ds = subset_spatial(temp_sub_ds, [28, 3, 35, 10])\nspat_temp_sub_ds.burned_area.plot()","key":"Va2VteXQqH"},{"type":"outputs","id":"TdG0ZHPM4dv5qaBRFDANm","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"840d4fb272550453827645b24d325a8c","path":"/cci-demonstrator-viewers/build/840d4fb272550453827645b24d325a8c.png"},"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"KRMjlBRZJT"}],"key":"Z4cVLeUo1m"}],"key":"bjlB7HXWD2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As we now have a single image, we aim for matching it with an observation from the CDSE. For this, we may use the stac-cdse store, which has been installed from the xcube-stac plugin. The store requires credentials, please consider the readme for information on how to obtain them.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o3njP8ScHM"}],"key":"qoSvyRunXY"}],"key":"Vce1gpbkc5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cdse_credentials = dict(\n    key=<your_key>,\n    secret=<your_secret>\n)","key":"imdFpxq3tw"},{"type":"outputs","id":"FYpGbyKcmGUfP7Lixfvxr","children":[],"key":"nczKXp8Fxk"}],"key":"tRMbMqDS7b"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"stac_cdse_store = new_data_store(\"stac-cdse\", **cdse_credentials)","key":"ZwUtxbzqJV"},{"type":"outputs","id":"MmplP87T_zi7X0fOHIwP9","children":[],"key":"UWOb1V6zHk"}],"key":"AigAnQKo8c"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"For more information on how to use the xcube-stac store (and on how to use it also for non-CDSE data), see ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"c0VpetYg7h"},{"type":"link","url":"https://github.com/xcube-dev/xcube-stac?tab=readme-ov-file#xcube-stac","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/xcube​-dev​/xcube​-stac​?tab​=​readme​-ov​-file​#xcube​-stac","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Enxfud5upo"}],"urlSource":"https://github.com/xcube-dev/xcube-stac?tab=readme-ov-file#xcube-stac","error":true,"key":"pWXIPIQE7K"},{"type":"text","value":". For now, it should be enough to say that we can use the following code to search for observations from the same day that fall into the bounding box.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"B0Tsq3TI9V"}],"key":"DoBkHZIRP8"}],"key":"NrKH7ZISzU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"descriptors = list(\n    stac_cdse_store.search_data(\n        collections=[\"sentinel-2-l2a\"],\n        bbox=[28, 3, 35, 10],\n        time_range=[\"2019-01-16\", \"2019-01-16\"],\n    )\n)\n[d.to_dict() for d in descriptors]","key":"o3fw5KEikc"},{"type":"outputs","id":"Neo4y6mGp__DXAy4pKLNc","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"[{'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36PTS_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [30.256088, 9.85132, 31.233987, 10.850374],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36PTR_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [30.263963, 8.948227, 31.026665, 9.945315],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36PTQ_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [30.271124, 8.044543, 30.819847, 9.039924],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36NTP_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [30.277577, 7.140815, 30.614471, 8.134753],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36NTN_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [30.283325, 6.682778, 30.409632, 7.230341],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PRM_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.734937, 9.84174, 30.746459, 10.843255],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PRL_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.72785, 8.93954, 30.735722, 9.940221],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PRK_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.721468, 8.037716, 30.725957, 9.03659],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PQM_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.823446, 9.85059, 29.832917, 10.850046],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PQL_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.818718, 8.947565, 29.824788, 9.946435],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PQK_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.814459, 8.043948, 29.817395, 9.04223],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PPM_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.266098, 9.856984, 28.919171, 10.851496],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PPL_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.067201, 8.953363, 28.91366, 9.948586],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PPK_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.907528, 8.049153, 28.908647, 9.044935],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRJ_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.715785, 7.136132, 30.61246, 8.13291],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRH_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.710797, 6.234699, 30.408392, 7.229728],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRG_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.706494, 5.332349, 30.205604, 6.325964],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRF_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.702871, 4.429617, 30.002872, 5.422165],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRE_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.701721, 4.071181, 29.801139, 4.518878],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQJ_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.810667, 7.140287, 29.810734, 8.137978],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQH_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.807339, 6.237129, 29.8048, 7.234227],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQG_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.804467, 5.333394, 29.799577, 6.329895],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.80205, 4.429659, 29.795065, 5.425531],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQE_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.800085, 3.526896, 29.791258, 4.521681],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQD_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.798568, 2.623321, 29.600183, 3.617265],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPJ_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.90563, 7.144901, 28.90413, 8.141019],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPH_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.903965, 6.241155, 28.900107, 7.236927],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPG_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.902528, 5.336833, 28.896566, 6.332255],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPF_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.901318, 4.432483, 28.893506, 5.427551],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPE_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.900335, 3.528653, 28.890925, 4.523363],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPD_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.899576, 2.624261, 28.888816, 3.618609],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')}]","content_type":"text/plain"}}},"children":[],"key":"E2EQOx3veE"}],"key":"Sj90zWINfe"}],"key":"BVTPGNKBhH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We may now pick one of them, and we open bands B2, B3, and B4, which come in their 10m resolution.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IONkplzv8V"}],"key":"cduD6wDSRz"}],"key":"f0Cj3mLwCp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds = stac_cdse_store.open_data(\n    \"collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_20221202T191827\",\n    asset_names=[\"B04\", \"B03\", \"B02\"]\n)\nds","key":"Z27vMx9F1n"},{"type":"outputs","id":"wgeDwKnAg_qX81PwPxH2t","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"bf3d970b38e027471b8661ee68117a4a","path":"/cci-demonstrator-viewers/build/bf3d970b38e027471b8661ee68117a4a.html"},"text/plain":{"content":"<xarray.Dataset> Size: 1GB\nDimensions:      (x: 10980, y: 10980)\nCoordinates:\n  * x            (x) float64 88kB 7e+05 7e+05 7e+05 ... 8.097e+05 8.098e+05\n  * y            (y) float64 88kB 6e+05 6e+05 6e+05 ... 4.902e+05 4.902e+05\n    spatial_ref  int64 8B 0\nData variables:\n    B04          (y, x) float32 482MB dask.array<chunksize=(1024, 1024), meta=np.ndarray>\n    B03          (y, x) float32 482MB dask.array<chunksize=(1024, 1024), meta=np.ndarray>\n    B02          (y, x) float32 482MB dask.array<chunksize=(1024, 1024), meta=np.ndarray>\nAttributes:\n    stac_catalog_url:    https://stac.dataspace.copernicus.eu/v1\n    stac_item_id:        S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_2022120...\n    xcube_stac_version:  1.1.0","content_type":"text/plain"}}},"children":[],"key":"HFezIor8P9"}],"key":"YunL6HR29R"}],"key":"R3fKZ7zIT1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As this is a bit much for visualisation, we plot images where we only pick the tenth pixel from every row and column of the image.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aoWbGVpuIN"}],"key":"JYwoL2mmUw"}],"key":"zPRXSLnfAO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 3, figsize=(20, 6))\nds.B02[::10, ::10].plot(ax=ax[0], vmin=0, vmax=0.2)\nds.B03[::10, ::10].plot(ax=ax[1], vmin=0, vmax=0.2)\nds.B04[::10, ::10].plot(ax=ax[2], vmin=0, vmax=0.2) ","key":"j7PeNvGoGu"},{"type":"outputs","id":"r_aY3FMKWeA6HcGC-fYXa","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7e117407dd477bdf9c01f74709ee0023","path":"/cci-demonstrator-viewers/build/7e117407dd477bdf9c01f74709ee0023.png"},"text/plain":{"content":"<Figure size 2000x600 with 6 Axes>","content_type":"text/plain"}}},"children":[],"key":"zbIBPpCnWG"}],"key":"JJHWbcHKbc"}],"key":"kQ7DYe4Vty"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we have the two datasets, but they are apparently provided with different spatial extents, even with different coordinate reference systems, which makes comparing the two hard. To easen this, we bring the datasets to the same grid. What we first need to do is to determine the gridmappings of the two datasets. Let’s assume here that we want to bring the data onto the ECV grid, so that grid is the target, whilst the S2 dataset provides the source.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xqnaxirpq1"}],"key":"rEie8l0BkW"}],"key":"MbCCmA2WFh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"source_gm = GridMapping.from_dataset(ds)\nsource_gm","key":"vi1MHzdnr7"},{"type":"outputs","id":"mnyDargVOEdCTN39SPgcf","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/markdown":{"content":"class: **RegularGridMapping**\n* is_regular: True\n* is_j_axis_up: False\n* is_lon_360: _unknown_\n* crs: PROJCRS[\"WGS 84 / UTM zone 35N\",BASEGEOGCRS[\"WGS 84\",DATUM[\"World Geodetic System 1984\",ELLIPSOID[\"WGS 84\",6378137,298.257223563,LENGTHUNIT[\"metre\",1]]],PRIMEM[\"Greenwich\",0,ANGLEUNIT[\"degree\",0.0174532925199433]],ID[\"EPSG\",4326]],CONVERSION[\"UTM zone 35N\",METHOD[\"Transverse Mercator\",ID[\"EPSG\",9807]],PARAMETER[\"Latitude of natural origin\",0,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8801]],PARAMETER[\"Longitude of natural origin\",27,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8802]],PARAMETER[\"Scale factor at natural origin\",0.9996,SCALEUNIT[\"unity\",1],ID[\"EPSG\",8805]],PARAMETER[\"False easting\",500000,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8806]],PARAMETER[\"False northing\",0,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8807]]],CS[Cartesian,2],AXIS[\"easting\",east,ORDER[1],LENGTHUNIT[\"metre\",1]],AXIS[\"northing\",north,ORDER[2],LENGTHUNIT[\"metre\",1]],ID[\"EPSG\",32635]]\n* xy_res: (10, 10)\n* xy_bbox: (699960, 490200, 809760, 600000)\n* ij_bbox: (0, 0, 10980, 10980)\n* xy_dim_names: ('x', 'y')\n* xy_var_names: ('x', 'y')\n* size: (10980, 10980)\n* tile_size: (1024, 1024)","content_type":"text/markdown"},"text/plain":{"content":"<xcube.core.gridmapping.regular.RegularGridMapping at 0x76eb46bf8cd0>","content_type":"text/plain"}}},"children":[],"key":"vQ6YfxU3m8"}],"key":"ybjW9GvWFP"}],"key":"jBMBCJJ78P"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"target_gm = GridMapping.from_dataset(spat_temp_sub_ds)\ntarget_gm","key":"V1tIE62Gla"},{"type":"outputs","id":"IK8sjtfoz-aKkXWiFS2dG","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/markdown":{"content":"class: **RegularGridMapping**\n* is_regular: True\n* is_j_axis_up: False\n* is_lon_360: False\n* crs: EPSG:4326\n* xy_res: (0.05, 0.05)\n* xy_bbox: (27.949999999999996, 3, 35.050000000000004, 10.049999999999992)\n* ij_bbox: (0, 0, 142, 141)\n* xy_dim_names: ('lon', 'lat')\n* xy_var_names: ('lon', 'lat')\n* size: (142, 141)\n* tile_size: (142, 141)","content_type":"text/markdown"},"text/plain":{"content":"<xcube.core.gridmapping.regular.RegularGridMapping at 0x76eb46bf8f50>","content_type":"text/plain"}}},"children":[],"key":"cI6unHUFuW"}],"key":"kYtYaNYeOc"}],"key":"rwF19boqm2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now this is defined, we can use xcube’s resample_in_space function (as introduced in the notebook showcasing how to reproject with the ESA CCI Toolbox) to bring the S2 Data to the other grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"n29T7j8Aes"}],"key":"WcdddSQ4vR"}],"key":"n7BNExGMcR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"resampled_ds = resample_in_space(\n    ds,\n    source_gm=source_gm,\n    target_gm=target_gm,\n)\nresampled_ds","key":"q9gKsoCS82"},{"type":"outputs","id":"j9AjO8VZb4OkQSRoM2e2S","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":16,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"ad935113c513d39403861f7cc9c2bd90","path":"/cci-demonstrator-viewers/build/ad935113c513d39403861f7cc9c2bd90.html"},"text/plain":{"content":"<xarray.Dataset> Size: 247kB\nDimensions:   (lat: 141, lon: 142, bnds: 2)\nCoordinates:\n  * lat       (lat) float64 1kB 10.02 9.975 9.925 9.875 ... 3.125 3.075 3.025\n  * lon       (lon) float64 1kB 27.97 28.02 28.07 28.12 ... 34.93 34.98 35.03\n    lon_bnds  (lon, bnds) float64 2kB 27.95 28.0 28.0 28.05 ... 35.0 35.0 35.05\n    lat_bnds  (lat, bnds) float64 2kB 10.05 10.0 10.0 9.95 ... 3.1 3.05 3.05 3.0\nDimensions without coordinates: bnds\nData variables:\n    B04       (lat, lon) float32 80kB nan nan nan nan nan ... nan nan nan nan\n    B03       (lat, lon) float32 80kB nan nan nan nan nan ... nan nan nan nan\n    B02       (lat, lon) float32 80kB nan nan nan nan nan ... nan nan nan nan\nAttributes:\n    stac_catalog_url:    https://stac.dataspace.copernicus.eu/v1\n    stac_item_id:        S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_2022120...\n    xcube_stac_version:  1.1.0","content_type":"text/plain"}}},"children":[],"key":"qbyhHM48M3"}],"key":"gqDj4P1pOD"}],"key":"gH1saMIKHF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We may now plot data from the resulting image.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TrMReraOWt"}],"key":"WSOjNpkrjB"}],"key":"EWzltnR1Ib"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"resampled_ds.B02.plot()","key":"m1yt5hsZsh"},{"type":"outputs","id":"pcnqqNI30S2JU4Jobnzqx","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"81e23e7e3491798064de5e2566e19e70","path":"/cci-demonstrator-viewers/build/81e23e7e3491798064de5e2566e19e70.png"},"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"aeyhTFF8XT"}],"key":"sWaXZVbQIg"}],"key":"PLyEtXwoUw"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s try this the other way round: What would it look like if we’d map the fire data onto the S2 grid? To make this better to handle, we build a subset of the S2 grid, where we pick only every tenth pixel x- and y-wise.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bCkOQmBbRp"}],"key":"l8XcXV7xZ9"}],"key":"BN8WmpJv8K"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"s2_ds = ds.isel({\"x\":slice(0, 10980, 10), \"y\":slice(0, 10980, 10)})\ns2_ds","key":"KZYZbvIU8Z"},{"type":"outputs","id":"BK-S3NxygO1wmVqXuWY-J","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"36fe3594327fceec9b10e049e3a67d18","path":"/cci-demonstrator-viewers/build/36fe3594327fceec9b10e049e3a67d18.html"},"text/plain":{"content":"<xarray.Dataset> Size: 14MB\nDimensions:      (x: 1098, y: 1098)\nCoordinates:\n  * x            (x) float64 9kB 7e+05 7.001e+05 ... 8.096e+05 8.097e+05\n  * y            (y) float64 9kB 6e+05 5.999e+05 ... 4.904e+05 4.903e+05\n    spatial_ref  int64 8B 0\nData variables:\n    B04          (y, x) float32 5MB dask.array<chunksize=(103, 103), meta=np.ndarray>\n    B03          (y, x) float32 5MB dask.array<chunksize=(103, 103), meta=np.ndarray>\n    B02          (y, x) float32 5MB dask.array<chunksize=(103, 103), meta=np.ndarray>\nAttributes:\n    stac_catalog_url:    https://stac.dataspace.copernicus.eu/v1\n    stac_item_id:        S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_2022120...\n    xcube_stac_version:  1.1.0","content_type":"text/plain"}}},"children":[],"key":"tcoTp1OeDl"}],"key":"WoYXcnru36"}],"key":"FNwZCKf1ih"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We redefine the values for source_gm and target_gm ...","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gwQObmw0Xg"}],"key":"w375jwrlEy"}],"key":"V83nlVk8RI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"source_gm = target_gm","key":"YS8v8LkH6w"},{"type":"outputs","id":"ZT5RikkIiTc3TjTk6WCOn","children":[],"key":"RRQhFkP09c"}],"key":"ellY02G3YZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"target_gm = GridMapping.from_dataset(s2_ds)\ntarget_gm","key":"veOfIfxJxo"},{"type":"outputs","id":"M4K7XM799HjvXFlXtBNJd","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/markdown":{"content":"class: **RegularGridMapping**\n* is_regular: True\n* is_j_axis_up: False\n* is_lon_360: _unknown_\n* crs: PROJCRS[\"WGS 84 / UTM zone 35N\",BASEGEOGCRS[\"WGS 84\",DATUM[\"World Geodetic System 1984\",ELLIPSOID[\"WGS 84\",6378137,298.257223563,LENGTHUNIT[\"metre\",1]]],PRIMEM[\"Greenwich\",0,ANGLEUNIT[\"degree\",0.0174532925199433]],ID[\"EPSG\",4326]],CONVERSION[\"UTM zone 35N\",METHOD[\"Transverse Mercator\",ID[\"EPSG\",9807]],PARAMETER[\"Latitude of natural origin\",0,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8801]],PARAMETER[\"Longitude of natural origin\",27,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8802]],PARAMETER[\"Scale factor at natural origin\",0.9996,SCALEUNIT[\"unity\",1],ID[\"EPSG\",8805]],PARAMETER[\"False easting\",500000,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8806]],PARAMETER[\"False northing\",0,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8807]]],CS[Cartesian,2],AXIS[\"easting\",east,ORDER[1],LENGTHUNIT[\"metre\",1]],AXIS[\"northing\",north,ORDER[2],LENGTHUNIT[\"metre\",1]],ID[\"EPSG\",32635]]\n* xy_res: (100, 100)\n* xy_bbox: (699915, 490245, 809715, 600045)\n* ij_bbox: (0, 0, 1098, 1098)\n* xy_dim_names: ('x', 'y')\n* xy_var_names: ('x', 'y')\n* size: (1098, 1098)\n* tile_size: (103, 103)","content_type":"text/markdown"},"text/plain":{"content":"<xcube.core.gridmapping.regular.RegularGridMapping at 0x76eb46f4a190>","content_type":"text/plain"}}},"children":[],"key":"fS3KxuBXWU"}],"key":"xCEzySsHdM"}],"key":"BbOdoWRj3n"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"And now we may resample the s2 dataset to the fire dataset. (We squeeze it to get rid of the time dimension, which is unnecessary here, as the dataset only has one timestep).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Gjcn9Babkd"}],"key":"Qakm7RQu4H"}],"key":"Wt9p2Vr69o"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"resampled_ds = resample_in_space(\n    spat_temp_sub_ds.squeeze(),\n    source_gm=source_gm,\n    target_gm=target_gm,\n)\nresampled_ds","key":"DQBT9fHDOu"},{"type":"outputs","id":"xnRovp4wjwIMZ3BKQwEhb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":21,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"87f7c2c3e8e8a653badf04e98f3820e3","path":"/cci-demonstrator-viewers/build/87f7c2c3e8e8a653badf04e98f3820e3.html"},"text/plain":{"content":"<xarray.Dataset> Size: 106MB\nDimensions:                          (y: 1098, x: 1098, vegetation_class: 18,\n                                      bnds: 2)\nCoordinates:\n  * y                                (y) float64 9kB 6e+05 ... 4.903e+05\n  * x                                (x) float64 9kB 7e+05 ... 8.097e+05\n  * vegetation_class                 (vegetation_class) int32 72B 10 20 ... 180\n    x_bnds                           (x, bnds) float64 18kB 6.999e+05 ... 8.0...\n    y_bnds                           (y, bnds) float64 18kB 6e+05 ... 4.902e+05\nDimensions without coordinates: bnds\nData variables:\n    burned_area                      (y, x) float32 5MB dask.array<chunksize=(103, 103), meta=np.ndarray>\n    burned_area_in_vegetation_class  (vegetation_class, y, x) float32 87MB dask.array<chunksize=(18, 103, 103), meta=np.ndarray>\n    fraction_of_burnable_area        (y, x) float32 5MB dask.array<chunksize=(103, 103), meta=np.ndarray>\n    fraction_of_observed_area        (y, x) float32 5MB dask.array<chunksize=(103, 103), meta=np.ndarray>\n    standard_error                   (y, x) float32 5MB dask.array<chunksize=(103, 103), meta=np.ndarray>\n    crs                              int64 8B 0\nAttributes: (12/18)\n    Conventions:                CF-1.7\n    title:                      esacci.FIRE.mon.L4.BA.MSI-(Sentinel-2).Sentin...\n    date_created:               2025-09-29T15:48:30.342376\n    processing_level:           L4\n    time_coverage_start:        2019-01-01T00:00:00\n    time_coverage_end:          2020-01-01T00:00:00\n    ...                         ...\n    geospatial_lat_resolution:  0.04999999999999716\n    geospatial_lat_min:         3.0\n    geospatial_lat_max:         10.049999999999997\n    geospatial_lat_units:       degree_north\n    geospatial_bounds_crs:      CRS84\n    geospatial_bounds:          POLYGON((27.94999999999999 3.0, 27.9499999999...","content_type":"text/plain"}}},"children":[],"key":"gvoY43Ugav"}],"key":"JGe7pciyn3"}],"key":"UnNbypzG8u"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"... and we may now reproject the data to see it is on the same grid as the S2 Data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xgDMvWKDwK"}],"key":"bdVgyDsUPe"}],"key":"jnJUcgTLjO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"resampled_ds.burned_area.plot()","key":"xNkXOkl2FX"},{"type":"outputs","id":"j8H-zxfyOgAGKA3kMF5H1","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"da25999fc1d76b39f2aa3de92dd3e442","path":"/cci-demonstrator-viewers/build/da25999fc1d76b39f2aa3de92dd3e442.png"},"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"Faqza2dXS9"}],"key":"TFoNVcupP1"}],"key":"nDUApDjCky"}],"key":"aYTasct0hf"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Airflow Demonstrator","url":"/external-notebooks/esa-cci/ect-demonstrators/demonstrators/airflow/readme","group":"Airflow"},"next":{"title":"Matching LST Data with a Sentinel-3 Cube","url":"/external-notebooks/esa-cci/ect-demonstrators/demonstrators/cdse/matching-lst-data-with-a-sentinel-3-cube","group":"CDSE"}}},"domain":"http://localhost:3000"}