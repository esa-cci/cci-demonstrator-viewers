<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Visualizing 4-dimensional Data with Altair and Plotly - CCI Examples</title><meta property="og:title" content="Visualizing 4-dimensional Data with Altair and Plotly - CCI Examples"/><meta name="generator" content="mystmd"/><meta name="description" content="Collection of examples relevant to the CCI activity"/><meta property="og:description" content="Collection of examples relevant to the CCI activity"/><meta name="keywords" content=""/><link rel="stylesheet" href="/cci-demonstrator-viewers/build/_assets/app-SDGCW62C.css"/><link rel="stylesheet" href="/cci-demonstrator-viewers/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/cci-demonstrator-viewers/favicon.ico"/><link rel="stylesheet" href="/cci-demonstrator-viewers/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block lg:hidden"><button class="myst-top-nav-menu-button flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/cci-demonstrator-viewers/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] lg:hidden hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="myst-fm-block-subject flex-none pr-2 smallcaps">CCI Examples</div><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/esa-cci/cci-notebook-viewers" title="GitHub Repository: esa-cci/cci-notebook-viewers" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/esa-cci/cci-notebook-viewers/edit/main/external_notebooks/esa-cci/ect-demonstrators/demonstrators/D3_js/D3_js_Visualize_4D_Data.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">Visualizing 4-dimensional Data with Altair and Plotly</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="d0RK3N8Ot2" class="myst-jp-nb-block relative group/block"><p>This notebook is one of three notebooks that serve to show how the ESA CCI Toolbox can be used with D3.js. Here, we will show how CCI Ozone Data, which has a fourth dimension beyond time. latitude, and longitude, can be visualised using charts from Altair and Plotly. Several preprocessing steps are applied, partly using operations from the CCI Toolbox.</p></div><div id="X6SaggHWWN" class="myst-jp-nb-block relative group/block"><p>Install altair and plotly it into your Python environment if you haven’t already done so:</p></div><div id="YMlhOusa52" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># ! mamba install --yes altair plotly</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="5vEmtxL9AwRSoHnOc7BQF" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="VoJczjL3Z9" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import altair as alt
import matplotlib.pyplot as plt
%matplotlib inline
import math
import numpy as np
import pandas as pd

import plotly.graph_objects as go
from plotly.subplots import make_subplots

from esa_climate_toolbox.core import get_op
from esa_climate_toolbox.core import list_ecv_datasets
from esa_climate_toolbox.core import open_data</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="G9h0jOMqlZKhCeUpVarpC" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>/home/tonio/projects/xcube-dev/xcube/xcube/util/plugin.py:176: UserWarning: Initializing xcube plugin &#x27;xcube&#x27; took 164 ms, consider code optimization. (For example, avoid eager import of packages, consider lazy loading of resources, etc.)
  warnings.warn(
</span></code></pre></div></div></div></div><div id="tq8QmK68ch" class="myst-jp-nb-block relative group/block"><p>Once more, we start with listing the datasets that are potentially useful for our purpose. For more information on Ozone Data, visit <a target="_blank" rel="noreferrer" href="https://climate.esa.int/en/projects/ozone/" class="">https://<wbr/>climate<wbr/>.esa<wbr/>.int<wbr/>/en<wbr/>/projects<wbr/>/ozone/</a>.</p></div><div id="jytxvc6eI8" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">list_ecv_datasets(ecv=&quot;OZONE&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="DvCaQC9XOmgsP2puee-lH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>[(&#x27;esacci.OZONE.day.L3S.TC.multi-sensor.multi-platform.MERGED.fv0100.r1&#x27;,
  &#x27;esa-cci&#x27;),
 (&#x27;esacci.OZONE.mon.L3.LP.GOMOS.Envisat.GOMOS_ENVISAT.v0001.r1&#x27;, &#x27;esa-cci&#x27;),
 (&#x27;esacci.OZONE.mon.L3.LP.MIPAS.Envisat.MIPAS_ENVISAT.v0001.r1&#x27;, &#x27;esa-cci&#x27;),
 (&#x27;esacci.OZONE.mon.L3.LP.OSIRIS.ODIN.OSIRIS_ODIN.v0001.r1&#x27;, &#x27;esa-cci&#x27;),
 (&#x27;esacci.OZONE.mon.L3.LP.SCIAMACHY.Envisat.SCIAMACHY_ENVISAT.v0001.r1&#x27;,
  &#x27;esa-cci&#x27;),
 (&#x27;esacci.OZONE.mon.L3.LP.SMR.ODIN.MZM.v0001.r1&#x27;, &#x27;esa-cci&#x27;),
 (&#x27;esacci.OZONE.mon.L3.LP.SMR.ODIN.SMR_ODIN.v0001.r1&#x27;, &#x27;esa-cci&#x27;),
 (&#x27;esacci.OZONE.mon.L3.NP.multi-sensor.multi-platform.MERGED.fv0002.r1&#x27;,
  &#x27;esa-cci&#x27;)]</span></code></div></div></div><div id="mg8hajZcxp" class="myst-jp-nb-block relative group/block"><p>Here, no zarr or kerchunk datasets are available, so we use data from the odp store. We pick the multi-sensor multi-platform dataset in a monthly resolution. We delimit the number of opened variables, so we only pick the weighted ozone average, and choose a temporal subset.</p></div><div id="uR5lfJN9Ie" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ozone_ds, _ = open_data(
    &quot;esacci.OZONE.mon.L3.NP.multi-sensor.multi-platform.MERGED.fv0002.r1&quot;, 
    var_names=&quot;O3_du&quot;,
    data_store_id=&quot;esa-cci&quot;
)
ozone_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="cy5HmoaGJByPrMGK0rmkw" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="qFRHAkwA2X" class="myst-jp-nb-block relative group/block"><p>The variable <code>O3_du</code> has a fourth dimension, layers. The dataset still has a dimension <code>air_pressure</code> that is not needed anymore, as no variable makes use of it, so we drop it.</p></div><div id="fxs1gaWTKe" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ozone_ds = ozone_ds.drop_dims(&quot;air_pressure&quot;)
ozone_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="oQlCfy-611fC764d3PHTd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="bqBKYaqmil" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">subset_time_index = get_op(&quot;subset_temporal_index&quot;)
ozone_sub_ds = subset_time_index(ozone_ds, 120, 144)
ozone_sub_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="XyH0AnbGOZZNp77YWjcez" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Q5H60pgEZR" class="myst-jp-nb-block relative group/block"><p>We create a time series for a point, given through a string encoded as “longitude, latitude”.</p></div><div id="dGp42GeOpB" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">tpoint = get_op(&quot;tseries_point&quot;)
ozone_point_ts = tpoint(ozone_sub_ds, point=&quot;10, 53.5&quot;)
ozone_point_ts</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="nVQIUN_HLQmbEkfesrTpn" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Q04V38y6DC" class="myst-jp-nb-block relative group/block"><p>We now convert this to a dataframe that may be read from the visualisation libraries.</p></div><div id="taB56Y55o2" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">df_op  = get_op(&quot;to_dataframe&quot;)
ozone_point_ts_df = df_op(ozone_point_ts)
ozone_point_ts_df</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="J1bvwdPaKkI5gsTus-83_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="bc0PfY89Al" class="myst-jp-nb-block relative group/block"><p>The resulting dataframe has a multi-index that is inconvenient to use, so we resolve it to be able to address the columns stating the index.</p></div><div id="NWDeSjAR4W" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ozone_point_ts_df = ozone_point_ts_df.reset_index().rename(columns={&#x27;index&#x27;: &#x27;timestamp&#x27;})
ozone_point_ts_df</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="GT1EKb4CuB-gHb1kZV3y2" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="SP9Hw4eiUR" class="myst-jp-nb-block relative group/block"><p>We now create a chart from this dataframe, where each layer dimension receives a different color, allowing to visualize them in the same chart.</p></div><div id="CMqRBtB2Yt" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">alt.Chart(ozone_point_ts_df).mark_line().encode(
    x=&#x27;time:T&#x27;,
    y=&#x27;O3_du:Q&#x27;,
    color=&#x27;layers:N&#x27;
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Uu-KIYI6UiYsKVr4rHfVm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="iW4nTok2Qr" class="myst-jp-nb-block relative group/block"><p>Like in the notebook on visualizing uncertainties, we are not only interested in showing the layer dimension of a time-series without spatial extent, but also of a grid for a single timestep. For this, we select the last time step ot the ozone dataset. For this, we again use plotly. Whilst we created a single plot in the previous notebook, we will now go on to create one surface area per layer dimension.</p></div><div id="lrEHF6kadm" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">subset_time_index = get_op(&quot;subset_temporal_index&quot;)
ozone_sub_ds = subset_time_index(ozone_ds, 143, 144)
ozone_sub_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="J8bPdMpcb1m4N5CQMyNUN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="TiFrIeCl07" class="myst-jp-nb-block relative group/block"><p>We want to remove the time dimension from the dataset so we have a leaner data array to work with.</p></div><div id="Z1VZAs1Okt" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ozone_sub_ds = ozone_sub_ds.squeeze()
ozone_sub_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="6ZNRBKW8T1kGa4q37qW5N" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="dgFClOEB5M" class="myst-jp-nb-block relative group/block"><p>Good. Now this is done, we can prepare the plots. There are sixteen layers, so we set up a structure of 8 rows and 2 columns.</p></div><div id="lPDhI60w9c" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig = make_subplots(
    rows=8,     
    cols=2,
    subplot_titles=(
        &quot;Layer 1&quot;, &quot;Layer 2&quot;, &quot;Layer 3&quot;, &quot;Layer 4&quot;,
        &quot;Layer 5&quot;, &quot;Layer 6&quot;, &quot;Layer 7&quot;, &quot;Layer 8&quot;,
        &quot;Layer 9&quot;, &quot;Layer 10&quot;, &quot;Layer 11&quot;, &quot;Layer 12&quot;,
        &quot;Layer 13&quot;, &quot;Layer 14&quot;, &quot;Layer 15&quot;, &quot;Layer 16&quot;
    ),
    specs=[[{&#x27;type&#x27;: &#x27;surface&#x27;}, {&#x27;type&#x27;: &#x27;surface&#x27;}],
           [{&#x27;type&#x27;: &#x27;surface&#x27;}, {&#x27;type&#x27;: &#x27;surface&#x27;}],
           [{&#x27;type&#x27;: &#x27;surface&#x27;}, {&#x27;type&#x27;: &#x27;surface&#x27;}],
           [{&#x27;type&#x27;: &#x27;surface&#x27;}, {&#x27;type&#x27;: &#x27;surface&#x27;}],
           [{&#x27;type&#x27;: &#x27;surface&#x27;}, {&#x27;type&#x27;: &#x27;surface&#x27;}],
           [{&#x27;type&#x27;: &#x27;surface&#x27;}, {&#x27;type&#x27;: &#x27;surface&#x27;}],
           [{&#x27;type&#x27;: &#x27;surface&#x27;}, {&#x27;type&#x27;: &#x27;surface&#x27;}],
           [{&#x27;type&#x27;: &#x27;surface&#x27;}, {&#x27;type&#x27;: &#x27;surface&#x27;}]
          ]    
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="bajKNoi0pJzmlN0cBB04L" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="le4LLIOVOp" class="myst-jp-nb-block relative group/block"><p>We can now create the surfaces. In each surface, latitude and longitude will stand for the x and y dimensions. The z-values will show the ozone average for the layer in question.</p></div><div id="xLaXqy5lev" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">y = ozone_sub_ds.lat.values
x = ozone_sub_ds.lon.values

for i in range(len(ozone_sub_ds.layers)):
    r = math.floor(i / 2) + 1    
    c = math.floor(i % 2) + 1
    print(f&quot;Creating plot for layer at {r}, {c}&quot;)
    z = ozone_sub_ds.O3_du.isel(layers=i).values
    layer_number = ozone_sub_ds.layers.isel(layers=i).values
    fig.add_trace(
        go.Surface(x=x, y=y, z=z, showscale=False, name=f&quot;Layer {layer_number}&quot;),
        row=r, 
        col=c,        
    )
fig.update_layout(
    title_text=&#x27;Different layers of mole content of ozone in the different atmosphere layers&#x27;,
    height=1600,
    width=1200,
    showlegend=True
)
fig.update_layout(margin=dict(t=100))
fig.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="sFpfdKisvQFyeHwBv5e-9" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Creating plot for layer at 1, 1
Creating plot for layer at 1, 2
Creating plot for layer at 2, 1
Creating plot for layer at 2, 2
Creating plot for layer at 3, 1
Creating plot for layer at 3, 2
Creating plot for layer at 4, 1
Creating plot for layer at 4, 2
Creating plot for layer at 5, 1
Creating plot for layer at 5, 2
Creating plot for layer at 6, 1
Creating plot for layer at 6, 2
Creating plot for layer at 7, 1
Creating plot for layer at 7, 2
Creating plot for layer at 8, 1
Creating plot for layer at 8, 2
</span></code></pre></div></div><div><div class="p-2.5">Loading...</div></div><div><div class="p-2.5">Loading...</div></div></div></div><div class="myst-backmatter-parts"></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/cci-demonstrator-viewers/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-N76G4W6Y.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/root-AA24SA6C.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-AH7OE64W.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/routes/$-5SFLQWPV.js"/><script>window.__remixContext = {"url":"/external-notebooks/esa-cci/ect-demonstrators/demonstrators/d3-js/d3-js-visualize-4d-data","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Ect Demonstrators","level":3},{"slug":"external-notebooks.esa-cci.ect-demonstrators.readme","title":"ect-demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Demonstrators","level":4},{"title":"Airflow","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.airflow.readme","title":"Airflow Demonstrator","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"CDSE","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-fire-data-with-sentinel-2-observations","title":"Matching FIRE Data with Sentinel-2 Observations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-lst-data-with-a-sentinel-3-cube","title":"Matching LST Data with a Sentinel-3 Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.readme","title":"CDSE Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"D3 Js","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.readme","title":"D3.js Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-lc-classes","title":"Visualising Land Cover Class Change with Altair","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualise-uncertainties","title":"Visualizing Cloud Fraction Uncertainties with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualize-4d-data","title":"Visualizing 4-dimensional Data with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/cci-demonstrator-viewers"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Ect Demonstrators","level":3},{"slug":"external-notebooks.esa-cci.ect-demonstrators.readme","title":"ect-demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Demonstrators","level":4},{"title":"Airflow","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.airflow.readme","title":"Airflow Demonstrator","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"CDSE","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-fire-data-with-sentinel-2-observations","title":"Matching FIRE Data with Sentinel-2 Observations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-lst-data-with-a-sentinel-3-cube","title":"Matching LST Data with a Sentinel-3 Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.readme","title":"CDSE Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"D3 Js","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.readme","title":"D3.js Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-lc-classes","title":"Visualising Land Cover Class Change with Altair","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualise-uncertainties","title":"Visualizing Cloud Fraction Uncertainties with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualize-4d-data","title":"Visualizing 4-dimensional Data with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}]},"page":{"version":3,"kind":"Notebook","sha256":"7e9ab23f5dc7781473dcf9edb76482672bfbf31aeca1553865a5fd760bd67656","slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualize-4d-data","location":"/external_notebooks/esa-cci/ect-demonstrators/demonstrators/D3_js/D3_js_Visualize_4D_Data.ipynb","dependencies":[],"frontmatter":{"title":"Visualizing 4-dimensional Data with Altair and Plotly","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"github":"https://github.com/esa-cci/cci-notebook-viewers","subject":"CCI Examples","numbering":{"title":{"offset":5}},"source_url":"https://github.com/esa-cci/cci-notebook-viewers/blob/main/external_notebooks/esa-cci/ect-demonstrators/demonstrators/D3_js/D3_js_Visualize_4D_Data.ipynb","edit_url":"https://github.com/esa-cci/cci-notebook-viewers/edit/main/external_notebooks/esa-cci/ect-demonstrators/demonstrators/D3_js/D3_js_Visualize_4D_Data.ipynb","exports":[{"format":"ipynb","filename":"D3_js_Visualize_4D_Data.ipynb","url":"/cci-demonstrator-viewers/build/D3_js_Visualize_4D_D-27bdfa1d17070d0766b7ca12d9dbcbbe.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This notebook is one of three notebooks that serve to show how the ESA CCI Toolbox can be used with D3.js. Here, we will show how CCI Ozone Data, which has a fourth dimension beyond time. latitude, and longitude, can be visualised using charts from Altair and Plotly. Several preprocessing steps are applied, partly using operations from the CCI Toolbox.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NiBjGwr85R"}],"key":"Rpa6o37Xja"}],"key":"d0RK3N8Ot2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Install altair and plotly it into your Python environment if you haven’t already done so:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Buoiwla6TZ"}],"key":"N1EWpiXCUn"}],"key":"X6SaggHWWN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# ! mamba install --yes altair plotly","key":"pmdWVIklEE"},{"type":"outputs","id":"5vEmtxL9AwRSoHnOc7BQF","children":[],"key":"okwNK4VxOS"}],"key":"YMlhOusa52"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import altair as alt\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport math\nimport numpy as np\nimport pandas as pd\n\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\nfrom esa_climate_toolbox.core import get_op\nfrom esa_climate_toolbox.core import list_ecv_datasets\nfrom esa_climate_toolbox.core import open_data","key":"yrDMc52Agv"},{"type":"outputs","id":"G9h0jOMqlZKhCeUpVarpC","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"/home/tonio/projects/xcube-dev/xcube/xcube/util/plugin.py:176: UserWarning: Initializing xcube plugin 'xcube' took 164 ms, consider code optimization. (For example, avoid eager import of packages, consider lazy loading of resources, etc.)\n  warnings.warn(\n"},"children":[],"key":"KVQHTRXp5q"}],"key":"iLKE2KiBgo"}],"key":"VoJczjL3Z9"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Once more, we start with listing the datasets that are potentially useful for our purpose. For more information on Ozone Data, visit ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Kl2QAWmIct"},{"type":"link","url":"https://climate.esa.int/en/projects/ozone/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​climate​.esa​.int​/en​/projects​/ozone/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AhLLV53Duy"}],"urlSource":"https://climate.esa.int/en/projects/ozone/","key":"fmeudtuDbH"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dFhmHHigwC"}],"key":"DJazf5oiSi"}],"key":"tq8QmK68ch"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"list_ecv_datasets(ecv=\"OZONE\")","key":"SHWn0H74LZ"},{"type":"outputs","id":"DvCaQC9XOmgsP2puee-lH","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"[('esacci.OZONE.day.L3S.TC.multi-sensor.multi-platform.MERGED.fv0100.r1',\n  'esa-cci'),\n ('esacci.OZONE.mon.L3.LP.GOMOS.Envisat.GOMOS_ENVISAT.v0001.r1', 'esa-cci'),\n ('esacci.OZONE.mon.L3.LP.MIPAS.Envisat.MIPAS_ENVISAT.v0001.r1', 'esa-cci'),\n ('esacci.OZONE.mon.L3.LP.OSIRIS.ODIN.OSIRIS_ODIN.v0001.r1', 'esa-cci'),\n ('esacci.OZONE.mon.L3.LP.SCIAMACHY.Envisat.SCIAMACHY_ENVISAT.v0001.r1',\n  'esa-cci'),\n ('esacci.OZONE.mon.L3.LP.SMR.ODIN.MZM.v0001.r1', 'esa-cci'),\n ('esacci.OZONE.mon.L3.LP.SMR.ODIN.SMR_ODIN.v0001.r1', 'esa-cci'),\n ('esacci.OZONE.mon.L3.NP.multi-sensor.multi-platform.MERGED.fv0002.r1',\n  'esa-cci')]","content_type":"text/plain"}}},"children":[],"key":"dhiuVQoPIS"}],"key":"bSMtSIAGBr"}],"key":"jytxvc6eI8"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Here, no zarr or kerchunk datasets are available, so we use data from the odp store. We pick the multi-sensor multi-platform dataset in a monthly resolution. We delimit the number of opened variables, so we only pick the weighted ozone average, and choose a temporal subset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dQvtFonn8D"}],"key":"X33Rc7Rn8S"}],"key":"mg8hajZcxp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ozone_ds, _ = open_data(\n    \"esacci.OZONE.mon.L3.NP.multi-sensor.multi-platform.MERGED.fv0002.r1\", \n    var_names=\"O3_du\",\n    data_store_id=\"esa-cci\"\n)\nozone_ds","key":"ZbRuat9NR3"},{"type":"outputs","id":"cy5HmoaGJByPrMGK0rmkw","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"a3d586b6efb60ef8fb6ee7ab13361c97","path":"/cci-demonstrator-viewers/build/a3d586b6efb60ef8fb6ee7ab13361c97.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 597MB\nDimensions:       (time: 144, layers: 16, lat: 180, lon: 360, air_pressure: 17,\n                   bnds: 2)\nCoordinates:\n  * air_pressure  (air_pressure) float32 68B 1.013e+03 446.0 196.4 ... 0.05 0.01\n  * lat           (lat) float32 720B -89.5 -88.5 -87.5 -86.5 ... 87.5 88.5 89.5\n  * layers        (layers) int32 64B 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\n  * lon           (lon) float32 1kB -179.5 -178.5 -177.5 ... 177.5 178.5 179.5\n  * time          (time) datetime64[ns] 1kB 1997-01-16T12:00:00 ... 2008-12-1...\n    time_bnds     (time, bnds) datetime64[ns] 2kB dask.array\u003cchunksize=(144, 2), meta=np.ndarray\u003e\nDimensions without coordinates: bnds\nData variables:\n    O3_du         (time, layers, lat, lon) float32 597MB dask.array\u003cchunksize=(1, 16, 180, 360), meta=np.ndarray\u003e\nAttributes:\n    Conventions:             CF-1.7\n    title:                   esacci.OZONE.mon.L3.NP.multi-sensor.multi-platfo...\n    date_created:            2025-04-08T09:50:13.180491\n    processing_level:        L3\n    time_coverage_start:     1997-01-01T00:00:00\n    time_coverage_end:       2009-01-01T00:00:00\n    time_coverage_duration:  P4383DT0H0M0S\n    history:                 [{'program': 'xcube_cci.chunkstore.CciChunkStore...","content_type":"text/plain"}}},"children":[],"key":"PFIEbdhJmU"}],"key":"rRQ0ExGZJR"}],"key":"uR5lfJN9Ie"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The variable ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EsK6HAr2i1"},{"type":"inlineCode","value":"O3_du","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HWghnWnmG8"},{"type":"text","value":" has a fourth dimension, layers. The dataset still has a dimension ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IceKA8bL2H"},{"type":"inlineCode","value":"air_pressure","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ecc6xnUS9T"},{"type":"text","value":" that is not needed anymore, as no variable makes use of it, so we drop it.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BTJuT4eCYi"}],"key":"ULlbwgV7RI"}],"key":"qFRHAkwA2X"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ozone_ds = ozone_ds.drop_dims(\"air_pressure\")\nozone_ds","key":"ER5E3w5Wyn"},{"type":"outputs","id":"oQlCfy-611fC764d3PHTd","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"1913b00320fad5d1ccd42986715fa034","path":"/cci-demonstrator-viewers/build/1913b00320fad5d1ccd42986715fa034.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 597MB\nDimensions:    (time: 144, layers: 16, lat: 180, lon: 360, bnds: 2)\nCoordinates:\n  * lat        (lat) float32 720B -89.5 -88.5 -87.5 -86.5 ... 87.5 88.5 89.5\n  * layers     (layers) int32 64B 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\n  * lon        (lon) float32 1kB -179.5 -178.5 -177.5 ... 177.5 178.5 179.5\n  * time       (time) datetime64[ns] 1kB 1997-01-16T12:00:00 ... 2008-12-16T1...\n    time_bnds  (time, bnds) datetime64[ns] 2kB dask.array\u003cchunksize=(144, 2), meta=np.ndarray\u003e\nDimensions without coordinates: bnds\nData variables:\n    O3_du      (time, layers, lat, lon) float32 597MB dask.array\u003cchunksize=(1, 16, 180, 360), meta=np.ndarray\u003e\nAttributes:\n    Conventions:             CF-1.7\n    title:                   esacci.OZONE.mon.L3.NP.multi-sensor.multi-platfo...\n    date_created:            2025-04-08T09:50:13.180491\n    processing_level:        L3\n    time_coverage_start:     1997-01-01T00:00:00\n    time_coverage_end:       2009-01-01T00:00:00\n    time_coverage_duration:  P4383DT0H0M0S\n    history:                 [{'program': 'xcube_cci.chunkstore.CciChunkStore...","content_type":"text/plain"}}},"children":[],"key":"bTtNNrBF9G"}],"key":"ONICnBtac6"}],"key":"fxs1gaWTKe"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"subset_time_index = get_op(\"subset_temporal_index\")\nozone_sub_ds = subset_time_index(ozone_ds, 120, 144)\nozone_sub_ds","key":"Sk7B2PNreN"},{"type":"outputs","id":"XyH0AnbGOZZNp77YWjcez","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"201cd5b9bd04225958978732b8a1f681","path":"/cci-demonstrator-viewers/build/201cd5b9bd04225958978732b8a1f681.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 100MB\nDimensions:    (time: 24, layers: 16, lat: 180, lon: 360, bnds: 2)\nCoordinates:\n  * lat        (lat) float32 720B -89.5 -88.5 -87.5 -86.5 ... 87.5 88.5 89.5\n  * layers     (layers) int32 64B 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\n  * lon        (lon) float32 1kB -179.5 -178.5 -177.5 ... 177.5 178.5 179.5\n  * time       (time) datetime64[ns] 192B 2007-01-16T12:00:00 ... 2008-12-16T...\n    time_bnds  (time, bnds) datetime64[ns] 384B dask.array\u003cchunksize=(24, 2), meta=np.ndarray\u003e\nDimensions without coordinates: bnds\nData variables:\n    O3_du      (time, layers, lat, lon) float32 100MB dask.array\u003cchunksize=(1, 16, 180, 360), meta=np.ndarray\u003e\nAttributes:\n    Conventions:             CF-1.7\n    title:                   esacci.OZONE.mon.L3.NP.multi-sensor.multi-platfo...\n    date_created:            2025-04-08T09:50:13.180491\n    processing_level:        L3\n    time_coverage_start:     1997-01-01T00:00:00\n    time_coverage_end:       2009-01-01T00:00:00\n    time_coverage_duration:  P4383DT0H0M0S\n    history:                 [{'program': 'xcube_cci.chunkstore.CciChunkStore...","content_type":"text/plain"}}},"children":[],"key":"HxS0FevZAB"}],"key":"dPFq1FMBTl"}],"key":"bqBKYaqmil"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We create a time series for a point, given through a string encoded as “longitude, latitude”.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uQbTulm6hT"}],"key":"JQpn7sdjn0"}],"key":"Q5H60pgEZR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"tpoint = get_op(\"tseries_point\")\nozone_point_ts = tpoint(ozone_sub_ds, point=\"10, 53.5\")\nozone_point_ts","key":"fCT6EBmTPG"},{"type":"outputs","id":"nVQIUN_HLQmbEkfesrTpn","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"3aad42d05ed0a462f54c1101929cefe5","path":"/cci-demonstrator-viewers/build/3aad42d05ed0a462f54c1101929cefe5.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 2kB\nDimensions:    (time: 24, layers: 16, bnds: 2)\nCoordinates:\n    lat        float32 4B 53.5\n  * layers     (layers) int32 64B 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\n    lon        float32 4B 10.5\n  * time       (time) datetime64[ns] 192B 2007-01-16T12:00:00 ... 2008-12-16T...\n    time_bnds  (time, bnds) datetime64[ns] 384B dask.array\u003cchunksize=(24, 2), meta=np.ndarray\u003e\nDimensions without coordinates: bnds\nData variables:\n    O3_du      (time, layers) float32 2kB dask.array\u003cchunksize=(1, 16), meta=np.ndarray\u003e\nAttributes:\n    Conventions:             CF-1.7\n    title:                   esacci.OZONE.mon.L3.NP.multi-sensor.multi-platfo...\n    date_created:            2025-04-08T09:50:13.180491\n    processing_level:        L3\n    time_coverage_start:     1997-01-01T00:00:00\n    time_coverage_end:       2009-01-01T00:00:00\n    time_coverage_duration:  P4383DT0H0M0S\n    history:                 [{'program': 'xcube_cci.chunkstore.CciChunkStore...","content_type":"text/plain"}}},"children":[],"key":"C7MlyIKdBX"}],"key":"Tqcdbr3mFB"}],"key":"dGp42GeOpB"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We now convert this to a dataframe that may be read from the visualisation libraries.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dIsVENSIs9"}],"key":"mr0M1hQsIS"}],"key":"Q04V38y6DC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df_op  = get_op(\"to_dataframe\")\nozone_point_ts_df = df_op(ozone_point_ts)\nozone_point_ts_df","key":"MiEXapqYrj"},{"type":"outputs","id":"J1bvwdPaKkI5gsTus-83_","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003eO3_du\u003c/th\u003e\n      \u003cth\u003elat\u003c/th\u003e\n      \u003cth\u003elon\u003c/th\u003e\n      \u003cth\u003etime_bnds\u003c/th\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003etime\u003c/th\u003e\n      \u003cth\u003elayers\u003c/th\u003e\n      \u003cth\u003ebnds\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth rowspan=\"5\" valign=\"top\"\u003e2007-01-16 12:00:00\u003c/th\u003e\n      \u003cth rowspan=\"2\" valign=\"top\"\u003e1\u003c/th\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e10.509481\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2007-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e10.509481\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2007-02-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth rowspan=\"2\" valign=\"top\"\u003e2\u003c/th\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e11.720570\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2007-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e11.720570\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2007-02-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e13.219014\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2007-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e...\u003c/th\u003e\n      \u003cth\u003e...\u003c/th\u003e\n      \u003cth\u003e...\u003c/th\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth rowspan=\"5\" valign=\"top\"\u003e2008-12-16 12:00:00\u003c/th\u003e\n      \u003cth\u003e14\u003c/th\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e0.235282\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2009-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth rowspan=\"2\" valign=\"top\"\u003e15\u003c/th\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e0.109375\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2008-12-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e0.109375\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2009-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth rowspan=\"2\" valign=\"top\"\u003e16\u003c/th\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e0.007546\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2008-12-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e0.007546\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2009-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e768 rows × 4 columns\u003c/p\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                                     O3_du   lat   lon  time_bnds\ntime                layers bnds                                  \n2007-01-16 12:00:00 1      0     10.509481  53.5  10.5 2007-01-01\n                           1     10.509481  53.5  10.5 2007-02-01\n                    2      0     11.720570  53.5  10.5 2007-01-01\n                           1     11.720570  53.5  10.5 2007-02-01\n                    3      0     13.219014  53.5  10.5 2007-01-01\n...                                    ...   ...   ...        ...\n2008-12-16 12:00:00 14     1      0.235282  53.5  10.5 2009-01-01\n                    15     0      0.109375  53.5  10.5 2008-12-01\n                           1      0.109375  53.5  10.5 2009-01-01\n                    16     0      0.007546  53.5  10.5 2008-12-01\n                           1      0.007546  53.5  10.5 2009-01-01\n\n[768 rows x 4 columns]","content_type":"text/plain"}}},"children":[],"key":"u2q6ILbnrb"}],"key":"p16Ycmd5XN"}],"key":"taB56Y55o2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The resulting dataframe has a multi-index that is inconvenient to use, so we resolve it to be able to address the columns stating the index.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"X6Re4WFxT1"}],"key":"b0deP08PSP"}],"key":"bc0PfY89Al"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ozone_point_ts_df = ozone_point_ts_df.reset_index().rename(columns={'index': 'timestamp'})\nozone_point_ts_df","key":"KRDIJg4Fuj"},{"type":"outputs","id":"GT1EKb4CuB-gHb1kZV3y2","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003etime\u003c/th\u003e\n      \u003cth\u003elayers\u003c/th\u003e\n      \u003cth\u003ebnds\u003c/th\u003e\n      \u003cth\u003eO3_du\u003c/th\u003e\n      \u003cth\u003elat\u003c/th\u003e\n      \u003cth\u003elon\u003c/th\u003e\n      \u003cth\u003etime_bnds\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e0\u003c/th\u003e\n      \u003ctd\u003e2007-01-16 12:00:00\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e10.509481\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2007-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e1\u003c/th\u003e\n      \u003ctd\u003e2007-01-16 12:00:00\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n      \u003ctd\u003e10.509481\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2007-02-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2\u003c/th\u003e\n      \u003ctd\u003e2007-01-16 12:00:00\u003c/td\u003e\n      \u003ctd\u003e2\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e11.720570\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2007-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e3\u003c/th\u003e\n      \u003ctd\u003e2007-01-16 12:00:00\u003c/td\u003e\n      \u003ctd\u003e2\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n      \u003ctd\u003e11.720570\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2007-02-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e4\u003c/th\u003e\n      \u003ctd\u003e2007-01-16 12:00:00\u003c/td\u003e\n      \u003ctd\u003e3\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e13.219014\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2007-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e...\u003c/th\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n      \u003ctd\u003e...\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e763\u003c/th\u003e\n      \u003ctd\u003e2008-12-16 12:00:00\u003c/td\u003e\n      \u003ctd\u003e14\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n      \u003ctd\u003e0.235282\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2009-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e764\u003c/th\u003e\n      \u003ctd\u003e2008-12-16 12:00:00\u003c/td\u003e\n      \u003ctd\u003e15\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0.109375\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2008-12-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e765\u003c/th\u003e\n      \u003ctd\u003e2008-12-16 12:00:00\u003c/td\u003e\n      \u003ctd\u003e15\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n      \u003ctd\u003e0.109375\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2009-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e766\u003c/th\u003e\n      \u003ctd\u003e2008-12-16 12:00:00\u003c/td\u003e\n      \u003ctd\u003e16\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e0.007546\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2008-12-01\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e767\u003c/th\u003e\n      \u003ctd\u003e2008-12-16 12:00:00\u003c/td\u003e\n      \u003ctd\u003e16\u003c/td\u003e\n      \u003ctd\u003e1\u003c/td\u003e\n      \u003ctd\u003e0.007546\u003c/td\u003e\n      \u003ctd\u003e53.5\u003c/td\u003e\n      \u003ctd\u003e10.5\u003c/td\u003e\n      \u003ctd\u003e2009-01-01\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e768 rows × 7 columns\u003c/p\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                   time  layers  bnds      O3_du   lat   lon  time_bnds\n0   2007-01-16 12:00:00       1     0  10.509481  53.5  10.5 2007-01-01\n1   2007-01-16 12:00:00       1     1  10.509481  53.5  10.5 2007-02-01\n2   2007-01-16 12:00:00       2     0  11.720570  53.5  10.5 2007-01-01\n3   2007-01-16 12:00:00       2     1  11.720570  53.5  10.5 2007-02-01\n4   2007-01-16 12:00:00       3     0  13.219014  53.5  10.5 2007-01-01\n..                  ...     ...   ...        ...   ...   ...        ...\n763 2008-12-16 12:00:00      14     1   0.235282  53.5  10.5 2009-01-01\n764 2008-12-16 12:00:00      15     0   0.109375  53.5  10.5 2008-12-01\n765 2008-12-16 12:00:00      15     1   0.109375  53.5  10.5 2009-01-01\n766 2008-12-16 12:00:00      16     0   0.007546  53.5  10.5 2008-12-01\n767 2008-12-16 12:00:00      16     1   0.007546  53.5  10.5 2009-01-01\n\n[768 rows x 7 columns]","content_type":"text/plain"}}},"children":[],"key":"RgwV0RQPdd"}],"key":"aJyvQq0QDi"}],"key":"NWDeSjAR4W"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We now create a chart from this dataframe, where each layer dimension receives a different color, allowing to visualize them in the same chart.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LRqGtLGw7U"}],"key":"eto9kNEJtq"}],"key":"SP9Hw4eiUR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"alt.Chart(ozone_point_ts_df).mark_line().encode(\n    x='time:T',\n    y='O3_du:Q',\n    color='layers:N'\n)","key":"NKCHKzdkcI"},{"type":"outputs","id":"Uu-KIYI6UiYsKVr4rHfVm","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"1f23a9f4295aae4d860422316d4dd3cc","path":"/cci-demonstrator-viewers/build/1f23a9f4295aae4d860422316d4dd3cc.html"},"text/plain":{"content":"alt.Chart(...)","content_type":"text/plain"}}},"children":[],"key":"XZnzcEk0V4"}],"key":"S1cgxUUpo1"}],"key":"CMqRBtB2Yt"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Like in the notebook on visualizing uncertainties, we are not only interested in showing the layer dimension of a time-series without spatial extent, but also of a grid for a single timestep. For this, we select the last time step ot the ozone dataset. For this, we again use plotly. Whilst we created a single plot in the previous notebook, we will now go on to create one surface area per layer dimension.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XyUO8mkmo5"}],"key":"FJcPpBwg0Q"}],"key":"iW4nTok2Qr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"subset_time_index = get_op(\"subset_temporal_index\")\nozone_sub_ds = subset_time_index(ozone_ds, 143, 144)\nozone_sub_ds","key":"MJw2IYnaSI"},{"type":"outputs","id":"J8bPdMpcb1m4N5CQMyNUN","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"5c39c1184680bef7bca24f63db6c04e7","path":"/cci-demonstrator-viewers/build/5c39c1184680bef7bca24f63db6c04e7.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 4MB\nDimensions:    (time: 1, layers: 16, lat: 180, lon: 360, bnds: 2)\nCoordinates:\n  * lat        (lat) float32 720B -89.5 -88.5 -87.5 -86.5 ... 87.5 88.5 89.5\n  * layers     (layers) int32 64B 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\n  * lon        (lon) float32 1kB -179.5 -178.5 -177.5 ... 177.5 178.5 179.5\n  * time       (time) datetime64[ns] 8B 2008-12-16T12:00:00\n    time_bnds  (time, bnds) datetime64[ns] 16B dask.array\u003cchunksize=(1, 2), meta=np.ndarray\u003e\nDimensions without coordinates: bnds\nData variables:\n    O3_du      (time, layers, lat, lon) float32 4MB dask.array\u003cchunksize=(1, 16, 180, 360), meta=np.ndarray\u003e\nAttributes:\n    Conventions:             CF-1.7\n    title:                   esacci.OZONE.mon.L3.NP.multi-sensor.multi-platfo...\n    date_created:            2025-04-08T09:50:13.180491\n    processing_level:        L3\n    time_coverage_start:     1997-01-01T00:00:00\n    time_coverage_end:       2009-01-01T00:00:00\n    time_coverage_duration:  P4383DT0H0M0S\n    history:                 [{'program': 'xcube_cci.chunkstore.CciChunkStore...","content_type":"text/plain"}}},"children":[],"key":"ddKWkd0Tj1"}],"key":"cmAMUXG2tm"}],"key":"lrEHF6kadm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We want to remove the time dimension from the dataset so we have a leaner data array to work with.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hkyDFLGviz"}],"key":"IuuOluq2pA"}],"key":"TiFrIeCl07"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ozone_sub_ds = ozone_sub_ds.squeeze()\nozone_sub_ds","key":"WUBXm3i0JX"},{"type":"outputs","id":"6ZNRBKW8T1kGa4q37qW5N","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"90ececb32d99bdbb184679c5c866d7da","path":"/cci-demonstrator-viewers/build/90ececb32d99bdbb184679c5c866d7da.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 4MB\nDimensions:    (layers: 16, lat: 180, lon: 360, bnds: 2)\nCoordinates:\n  * lat        (lat) float32 720B -89.5 -88.5 -87.5 -86.5 ... 87.5 88.5 89.5\n  * layers     (layers) int32 64B 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16\n  * lon        (lon) float32 1kB -179.5 -178.5 -177.5 ... 177.5 178.5 179.5\n    time       datetime64[ns] 8B 2008-12-16T12:00:00\n    time_bnds  (bnds) datetime64[ns] 16B dask.array\u003cchunksize=(2,), meta=np.ndarray\u003e\nDimensions without coordinates: bnds\nData variables:\n    O3_du      (layers, lat, lon) float32 4MB dask.array\u003cchunksize=(16, 180, 360), meta=np.ndarray\u003e\nAttributes:\n    Conventions:             CF-1.7\n    title:                   esacci.OZONE.mon.L3.NP.multi-sensor.multi-platfo...\n    date_created:            2025-04-08T09:50:13.180491\n    processing_level:        L3\n    time_coverage_start:     1997-01-01T00:00:00\n    time_coverage_end:       2009-01-01T00:00:00\n    time_coverage_duration:  P4383DT0H0M0S\n    history:                 [{'program': 'xcube_cci.chunkstore.CciChunkStore...","content_type":"text/plain"}}},"children":[],"key":"tHWnEKvz9h"}],"key":"DoYxr2hIyX"}],"key":"Z1VZAs1Okt"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Good. Now this is done, we can prepare the plots. There are sixteen layers, so we set up a structure of 8 rows and 2 columns.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q8OqMqFaqc"}],"key":"OsbFst3BBv"}],"key":"dgFClOEB5M"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig = make_subplots(\n    rows=8,     \n    cols=2,\n    subplot_titles=(\n        \"Layer 1\", \"Layer 2\", \"Layer 3\", \"Layer 4\",\n        \"Layer 5\", \"Layer 6\", \"Layer 7\", \"Layer 8\",\n        \"Layer 9\", \"Layer 10\", \"Layer 11\", \"Layer 12\",\n        \"Layer 13\", \"Layer 14\", \"Layer 15\", \"Layer 16\"\n    ),\n    specs=[[{'type': 'surface'}, {'type': 'surface'}],\n           [{'type': 'surface'}, {'type': 'surface'}],\n           [{'type': 'surface'}, {'type': 'surface'}],\n           [{'type': 'surface'}, {'type': 'surface'}],\n           [{'type': 'surface'}, {'type': 'surface'}],\n           [{'type': 'surface'}, {'type': 'surface'}],\n           [{'type': 'surface'}, {'type': 'surface'}],\n           [{'type': 'surface'}, {'type': 'surface'}]\n          ]    \n)","key":"wDszHnN8hq"},{"type":"outputs","id":"bajKNoi0pJzmlN0cBB04L","children":[],"key":"Nuk5e65mYP"}],"key":"lPDhI60w9c"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can now create the surfaces. In each surface, latitude and longitude will stand for the x and y dimensions. The z-values will show the ozone average for the layer in question.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YPDzN3lGfd"}],"key":"CVtUMSQ3z5"}],"key":"le4LLIOVOp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"y = ozone_sub_ds.lat.values\nx = ozone_sub_ds.lon.values\n\nfor i in range(len(ozone_sub_ds.layers)):\n    r = math.floor(i / 2) + 1    \n    c = math.floor(i % 2) + 1\n    print(f\"Creating plot for layer at {r}, {c}\")\n    z = ozone_sub_ds.O3_du.isel(layers=i).values\n    layer_number = ozone_sub_ds.layers.isel(layers=i).values\n    fig.add_trace(\n        go.Surface(x=x, y=y, z=z, showscale=False, name=f\"Layer {layer_number}\"),\n        row=r, \n        col=c,        \n    )\nfig.update_layout(\n    title_text='Different layers of mole content of ozone in the different atmosphere layers',\n    height=1600,\n    width=1200,\n    showlegend=True\n)\nfig.update_layout(margin=dict(t=100))\nfig.show()","key":"JFS5FfdNEf"},{"type":"outputs","id":"sFpfdKisvQFyeHwBv5e-9","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Creating plot for layer at 1, 1\nCreating plot for layer at 1, 2\nCreating plot for layer at 2, 1\nCreating plot for layer at 2, 2\nCreating plot for layer at 3, 1\nCreating plot for layer at 3, 2\nCreating plot for layer at 4, 1\nCreating plot for layer at 4, 2\nCreating plot for layer at 5, 1\nCreating plot for layer at 5, 2\nCreating plot for layer at 6, 1\nCreating plot for layer at 6, 2\nCreating plot for layer at 7, 1\nCreating plot for layer at 7, 2\nCreating plot for layer at 8, 1\nCreating plot for layer at 8, 2\n"},"children":[],"key":"bUKdocXzpy"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"ec67c2e5476e3e5f76b381888d3e33f4","path":"/cci-demonstrator-viewers/build/ec67c2e5476e3e5f76b381888d3e33f4.html"}}},"children":[],"key":"g3K7DndxRR"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"application/vnd.plotly.v1+json":{"content_type":"application/vnd.plotly.v1+json","hash":"cfb8a0001737a0037acf1e014f37ef91","path":"/cci-demonstrator-viewers/build/cfb8a0001737a0037acf1e014f37ef91.json"},"text/html":{"content_type":"text/html","hash":"842d1be2834557fe8f343c4a332070b1","path":"/cci-demonstrator-viewers/build/842d1be2834557fe8f343c4a332070b1.html"}}},"children":[],"key":"bDNByVQLUa"}],"key":"XQ3NOVrS6F"}],"key":"xLaXqy5lev"}],"key":"jku8jcLPK2"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Visualizing Cloud Fraction Uncertainties with Altair and Plotly","url":"/external-notebooks/esa-cci/ect-demonstrators/demonstrators/d3-js/d3-js-visualise-uncertainties","group":"D3 Js"}}},"domain":"http://localhost:3000"},"project":{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Ect Demonstrators","level":3},{"slug":"external-notebooks.esa-cci.ect-demonstrators.readme","title":"ect-demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Demonstrators","level":4},{"title":"Airflow","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.airflow.readme","title":"Airflow Demonstrator","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"CDSE","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-fire-data-with-sentinel-2-observations","title":"Matching FIRE Data with Sentinel-2 Observations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-lst-data-with-a-sentinel-3-cube","title":"Matching LST Data with a Sentinel-3 Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.readme","title":"CDSE Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"D3 Js","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.readme","title":"D3.js Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-lc-classes","title":"Visualising Land Cover Class Change with Altair","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualise-uncertainties","title":"Visualizing Cloud Fraction Uncertainties with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualize-4d-data","title":"Visualizing 4-dimensional Data with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/cci-demonstrator-viewers/build/manifest-5D5D9E8C.js";
import * as route0 from "/cci-demonstrator-viewers/build/root-AA24SA6C.js";
import * as route1 from "/cci-demonstrator-viewers/build/routes/$-5SFLQWPV.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/cci-demonstrator-viewers/build/entry.client-PCJPW7TK.js");</script></body></html>