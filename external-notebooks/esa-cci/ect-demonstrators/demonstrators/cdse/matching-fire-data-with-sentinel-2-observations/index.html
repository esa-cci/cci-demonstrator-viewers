<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Matching FIRE Data with Sentinel-2 Observations - CCI Examples</title><meta property="og:title" content="Matching FIRE Data with Sentinel-2 Observations - CCI Examples"/><meta name="generator" content="mystmd"/><meta name="description" content="Collection of examples relevant to the CCI activity"/><meta property="og:description" content="Collection of examples relevant to the CCI activity"/><meta name="keywords" content=""/><link rel="stylesheet" href="/cci-demonstrator-viewers/build/_assets/app-SDGCW62C.css"/><link rel="stylesheet" href="/cci-demonstrator-viewers/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/cci-demonstrator-viewers/favicon.ico"/><link rel="stylesheet" href="/cci-demonstrator-viewers/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block lg:hidden"><button class="myst-top-nav-menu-button flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/cci-demonstrator-viewers/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] lg:hidden hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="myst-fm-block-subject flex-none pr-2 smallcaps">CCI Examples</div><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/esa-cci/cci-notebook-viewers" title="GitHub Repository: esa-cci/cci-notebook-viewers" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/esa-cci/cci-notebook-viewers/edit/main/external_notebooks/esa-cci/ect-demonstrators/demonstrators/CDSE/Matching-FIRE_Data with_Sentinel-2_Observations.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">Matching FIRE Data with Sentinel-2 Observations</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="KHDHkapyX7" class="myst-jp-nb-block relative group/block"><p>This notebook serves to demonstrate how data from the CCI FIRE ECV can be matched against single Sentinel-2 Observations provided by the Copernicus Data Space Ecosystem (CDSE). For this, we open the data sets separately and apply operations, some of whom provided by the ESA CCI Toolbox, to bring the data together.</p><p>This notebook runs in any Python environment which has the following packages installed:</p><ul><li><p>esa-climate-toolbox</p></li><li><p>xcube-stac</p></li><li><p>jupyterlab</p></li><li><p>libgdal-netcdf</p></li></ul><p>For convenience, there is an environment.yml in the folder next to this notebook you can use to create such an environment.</p></div><div id="p9JnafFmmq" class="myst-jp-nb-block relative group/block"><p>We start with necessary imports beforehand.</p></div><div id="NAjtWGyZin" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import matplotlib.pyplot as plt
import numpy as np

from xcube.core.gridmapping import GridMapping
from xcube.core.resampling import resample_in_space

from xcube.core.store import new_data_store

from esa_climate_toolbox.core import get_op
from esa_climate_toolbox.core import list_ecv_datasets
from esa_climate_toolbox.core import open_data</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="U4vm_8a7V_A4yfrHsxO27" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="DE0XvQFAoT" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%matplotlib inline</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="lPK89UkQAdGxEeazh9KDE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="LiEGQ7JNeG" class="myst-jp-nb-block relative group/block"><p>As the CDSE provides data from the Copernicus Sentinel missions, it suggests itself to aim for combinations with data that is based on Sentinel missions. Using ‘list_ecv_datasets’, we may search for datasets for any ECV. We particularly want to look for FIRE data derived from Sentinel data. We may look for such datasets like this:</p></div><div id="W9q4NGFhyp" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">datasets = [(dataset, store) for dataset, store in list_ecv_datasets(&quot;FIRE&quot;) if &quot;Sentinel&quot; in dataset]
datasets</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="zB3iw1Ukx-QZG37mPCNPU" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code></code></div></div></div><div id="fKtn4RO6Gi" class="myst-jp-nb-block relative group/block"><p>Of these, we pick the very first one, esacci.FIRE.mon.L4.BA.MSI-(Sentinel-2).Sentinel-2A.MSI.2-0.grid, which is provided on a global grid.</p></div><div id="mqoHCewwqc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fire_ds, ds_name = open_data(&quot;esacci.FIRE.mon.L4.BA.MSI-(Sentinel-2).Sentinel-2A.MSI.2-0.grid&quot;)
fire_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="CDIbtDvq5-KbtOCxynuGd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="iXd9wOTJ4L" class="myst-jp-nb-block relative group/block"><p>We now plot data from the very first timestep.</p></div><div id="CSLnnPZmX7" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">subset_time_index = get_op(&quot;subset_temporal_index&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="yZvZ7zJXrZro50--yKqKx" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="CHS3aw9QiX" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">temp_sub_ds = subset_time_index(fire_ds, 0, 0)
temp_sub_ds.burned_area.plot()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="62LYO5vki2z-7zjDDH7St" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cci-demonstrator-viewers/build/783e7ff6cf2d1afd537a5844daf46725.png" alt="&lt;Figure size 640x480 with 2 Axes&gt;"/></div></div></div><div id="dUC6f20IkA" class="myst-jp-nb-block relative group/block"><p>As fire data only seems to be present in the center of the data, we select another subset, this time a spatial one.</p></div><div id="pImJJbkBlg" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">subset_spatial = get_op(&quot;subset_spatial&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="6_YHk_C6TTDRUb39bv3sc" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="SIYsYWeCZz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">spat_temp_sub_ds = subset_spatial(temp_sub_ds, [28, 3, 35, 10])
spat_temp_sub_ds.burned_area.plot()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="7nOfo5cqVL_-RlPZ1g-Rp" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cci-demonstrator-viewers/build/840d4fb272550453827645b24d325a8c.png" alt="&lt;Figure size 640x480 with 2 Axes&gt;"/></div></div></div><div id="g9Z1Ibo9zM" class="myst-jp-nb-block relative group/block"><p>As we now have a single image, we aim for matching it with an observation from the CDSE. For this, we may use the stac-cdse store, which has been installed from the xcube-stac plugin. The store requires credentials, please consider the readme for information on how to obtain them.</p></div><div id="BAl3nwe4Ds" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">cdse_credentials = dict(
    key=&lt;your_key&gt;,
    secret=&lt;your_secret&gt;
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="BWQ5wHmh_DaZbXwct5L9f" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="WR5YcTSpRc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">stac_cdse_store = new_data_store(&quot;stac-cdse&quot;, **cdse_credentials)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="oOPSTF9sZhymLrK9oYZwX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="fUFcSLiatr" class="myst-jp-nb-block relative group/block"><p>For more information on how to use the xcube-stac store (and on how to use it also for non-CDSE data), see <a target="_blank" rel="noreferrer" href="https://github.com/xcube-dev/xcube-stac?tab=readme-ov-file#xcube-stac" class="">https://<wbr/>github<wbr/>.com<wbr/>/xcube<wbr/>-dev<wbr/>/xcube<wbr/>-stac<wbr/>?tab<wbr/>=<wbr/>readme<wbr/>-ov<wbr/>-file<wbr/>#xcube<wbr/>-stac</a>. For now, it should be enough to say that we can use the following code to search for observations from the same day that fall into the bounding box.</p></div><div id="XxBS3zi96J" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">descriptors = list(
    stac_cdse_store.search_data(
        collections=[&quot;sentinel-2-l2a&quot;],
        bbox=[28, 3, 35, 10],
        time_range=[&quot;2019-01-16&quot;, &quot;2019-01-16&quot;],
    )
)
[d.to_dict() for d in descriptors]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="OSRNHWfWCmPbCmJtmbHFY" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>[{&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36PTS_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [30.256088, 9.85132, 31.233987, 10.850374],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36PTR_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [30.263963, 8.948227, 31.026665, 9.945315],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36PTQ_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [30.271124, 8.044543, 30.819847, 9.039924],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36NTP_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [30.277577, 7.140815, 30.614471, 8.134753],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36NTN_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [30.283325, 6.682778, 30.409632, 7.230341],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PRM_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [29.734937, 9.84174, 30.746459, 10.843255],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PRL_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [29.72785, 8.93954, 30.735722, 9.940221],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PRK_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [29.721468, 8.037716, 30.725957, 9.03659],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PQM_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.823446, 9.85059, 29.832917, 10.850046],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PQL_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.818718, 8.947565, 29.824788, 9.946435],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PQK_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.814459, 8.043948, 29.817395, 9.04223],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PPM_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.266098, 9.856984, 28.919171, 10.851496],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PPL_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.067201, 8.953363, 28.91366, 9.948586],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PPK_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [27.907528, 8.049153, 28.908647, 9.044935],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRJ_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [29.715785, 7.136132, 30.61246, 8.13291],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRH_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [29.710797, 6.234699, 30.408392, 7.229728],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRG_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [29.706494, 5.332349, 30.205604, 6.325964],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRF_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [29.702871, 4.429617, 30.002872, 5.422165],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRE_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [29.701721, 4.071181, 29.801139, 4.518878],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQJ_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.810667, 7.140287, 29.810734, 8.137978],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQH_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.807339, 6.237129, 29.8048, 7.234227],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQG_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.804467, 5.333394, 29.799577, 6.329895],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.80205, 4.429659, 29.795065, 5.425531],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQE_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.800085, 3.526896, 29.791258, 4.521681],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQD_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [28.798568, 2.623321, 29.600183, 3.617265],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPJ_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [27.90563, 7.144901, 28.90413, 8.141019],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPH_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [27.903965, 6.241155, 28.900107, 7.236927],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPG_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [27.902528, 5.336833, 28.896566, 6.332255],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPF_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [27.901318, 4.432483, 28.893506, 5.427551],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPE_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [27.900335, 3.528653, 28.890925, 4.523363],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)},
 {&#x27;data_id&#x27;: &#x27;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPD_20221202T191827&#x27;,
  &#x27;data_type&#x27;: &#x27;dataset&#x27;,
  &#x27;bbox&#x27;: [27.899576, 2.624261, 28.888816, 3.618609],
  &#x27;time_range&#x27;: (&#x27;2019-01-16T08:23:09.024Z&#x27;, &#x27;2019-01-16T08:23:09.024Z&#x27;)}]</span></code></div></div></div><div id="zMo3fuk4gJ" class="myst-jp-nb-block relative group/block"><p>We may now pick one of them, and we open bands B2, B3, and B4, which come in their 10m resolution.</p></div><div id="TCkhQgeVDd" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ds = stac_cdse_store.open_data(
    &quot;collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_20221202T191827&quot;,
    asset_names=[&quot;B04&quot;, &quot;B03&quot;, &quot;B02&quot;]
)
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="dg9nd9CDpKXWWo2zY3uUL" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="yQqsc6vAt3" class="myst-jp-nb-block relative group/block"><p>As this is a bit much for visualisation, we plot images where we only pick the tenth pixel from every row and column of the image.</p></div><div id="Ht7dihClPw" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(1, 3, figsize=(20, 6))
ds.B02[::10, ::10].plot(ax=ax[0], vmin=0, vmax=0.2)
ds.B03[::10, ::10].plot(ax=ax[1], vmin=0, vmax=0.2)
ds.B04[::10, ::10].plot(ax=ax[2], vmin=0, vmax=0.2) </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ZE1B1_ZoY7ZqkuRaImJGB" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cci-demonstrator-viewers/build/7e117407dd477bdf9c01f74709ee0023.png" alt="&lt;Figure size 2000x600 with 6 Axes&gt;"/></div></div></div><div id="J7artlVJ1T" class="myst-jp-nb-block relative group/block"><p>Now we have the two datasets, but they are apparently provided with different spatial extents, even with different coordinate reference systems, which makes comparing the two hard. To easen this, we bring the datasets to the same grid. What we first need to do is to determine the gridmappings of the two datasets. Let’s assume here that we want to bring the data onto the ECV grid, so that grid is the target, whilst the S2 dataset provides the source.</p></div><div id="idVRwUsgfz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">source_gm = GridMapping.from_dataset(ds)
source_gm</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="y4sUsVMCeapsqaaIgBaDb" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="GqqUoZUKT0" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">target_gm = GridMapping.from_dataset(spat_temp_sub_ds)
target_gm</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Id1VKa0QSxc_OspopuJ4C" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="Q2TtIBAKQ5" class="myst-jp-nb-block relative group/block"><p>Now this is defined, we can use xcube’s resample_in_space function (as introduced in the notebook showcasing how to reproject with the ESA CCI Toolbox) to bring the S2 Data to the other grid.</p></div><div id="BCjUF1jFR2" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">resampled_ds = resample_in_space(
    ds,
    source_gm=source_gm,
    target_gm=target_gm,
)
resampled_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="WY2ghqHWSM76i3jVBzc_c" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="ZbM3yENyO4" class="myst-jp-nb-block relative group/block"><p>We may now plot data from the resulting image.</p></div><div id="KoVZIU2MQQ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">resampled_ds.B02.plot()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="XPoQDs2LQ4ZYoJNOsibEu" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cci-demonstrator-viewers/build/81e23e7e3491798064de5e2566e19e70.png" alt="&lt;Figure size 640x480 with 2 Axes&gt;"/></div></div></div><div id="uzsdKaYmII" class="myst-jp-nb-block relative group/block"><p>Let’s try this the other way round: What would it look like if we’d map the fire data onto the S2 grid? To make this better to handle, we build a subset of the S2 grid, where we pick only every tenth pixel x- and y-wise.</p></div><div id="twrLolFKci" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">s2_ds = ds.isel({&quot;x&quot;:slice(0, 10980, 10), &quot;y&quot;:slice(0, 10980, 10)})
s2_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="sItOv76qRdRSSTQaF3tVo" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="khHV2S7iux" class="myst-jp-nb-block relative group/block"><p>We redefine the values for source_gm and target_gm ...</p></div><div id="Hk71ZRQT3I" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">source_gm = target_gm</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="URu5Zd819lIxILEKGAkdq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GPV8D9f2oY" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">target_gm = GridMapping.from_dataset(s2_ds)
target_gm</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="kSy-9KJoODKmGwnMEU7Hf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="m83725zrpf" class="myst-jp-nb-block relative group/block"><p>And now we may resample the s2 dataset to the fire dataset. (We squeeze it to get rid of the time dimension, which is unnecessary here, as the dataset only has one timestep).</p></div><div id="BnkyLJ0bni" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">resampled_ds = resample_in_space(
    spat_temp_sub_ds.squeeze(),
    source_gm=source_gm,
    target_gm=target_gm,
)
resampled_ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="bu3wruCRXDsooCdMnq0cm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="HD9qaQ4TNf" class="myst-jp-nb-block relative group/block"><p>... and we may now reproject the data to see it is on the same grid as the S2 Data.</p></div><div id="tYA4L77rJu" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">resampled_ds.burned_area.plot()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="pZEAD5cwhmpUb51_NY45q" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cci-demonstrator-viewers/build/da25999fc1d76b39f2aa3de92dd3e442.png" alt="&lt;Figure size 640x480 with 2 Axes&gt;"/></div></div></div><div class="myst-backmatter-parts"></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/cci-demonstrator-viewers/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-N76G4W6Y.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/root-AA24SA6C.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/_shared/chunk-AH7OE64W.js"/><link rel="modulepreload" href="/cci-demonstrator-viewers/build/routes/$-5SFLQWPV.js"/><script>window.__remixContext = {"url":"/external-notebooks/esa-cci/ect-demonstrators/demonstrators/cdse/matching-fire-data-with-sentinel-2-observations","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Ect Demonstrators","level":3},{"slug":"external-notebooks.esa-cci.ect-demonstrators.readme","title":"ect-demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Demonstrators","level":4},{"title":"Airflow","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.airflow.readme","title":"Airflow Demonstrator","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"CDSE","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-fire-data-with-sentinel-2-observations","title":"Matching FIRE Data with Sentinel-2 Observations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-lst-data-with-a-sentinel-3-cube","title":"Matching LST Data with a Sentinel-3 Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.readme","title":"CDSE Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"D3 Js","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.readme","title":"D3.js Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-lc-classes","title":"Visualising Land Cover Class Change with Altair","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualise-uncertainties","title":"Visualizing Cloud Fraction Uncertainties with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualize-4d-data","title":"Visualizing 4-dimensional Data with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/cci-demonstrator-viewers"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Ect Demonstrators","level":3},{"slug":"external-notebooks.esa-cci.ect-demonstrators.readme","title":"ect-demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Demonstrators","level":4},{"title":"Airflow","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.airflow.readme","title":"Airflow Demonstrator","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"CDSE","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-fire-data-with-sentinel-2-observations","title":"Matching FIRE Data with Sentinel-2 Observations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-lst-data-with-a-sentinel-3-cube","title":"Matching LST Data with a Sentinel-3 Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.readme","title":"CDSE Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"D3 Js","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.readme","title":"D3.js Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-lc-classes","title":"Visualising Land Cover Class Change with Altair","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualise-uncertainties","title":"Visualizing Cloud Fraction Uncertainties with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualize-4d-data","title":"Visualizing 4-dimensional Data with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}]},"page":{"version":3,"kind":"Notebook","sha256":"b9104b1ec53b7805e9f26d90e0a93cecbbcee78b46afe19f0b47be71eea6ebde","slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-fire-data-with-sentinel-2-observations","location":"/external_notebooks/esa-cci/ect-demonstrators/demonstrators/CDSE/Matching-FIRE_Data with_Sentinel-2_Observations.ipynb","dependencies":[],"frontmatter":{"title":"Matching FIRE Data with Sentinel-2 Observations","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"github":"https://github.com/esa-cci/cci-notebook-viewers","subject":"CCI Examples","numbering":{"title":{"offset":5}},"source_url":"https://github.com/esa-cci/cci-notebook-viewers/blob/main/external_notebooks/esa-cci/ect-demonstrators/demonstrators/CDSE/Matching-FIRE_Data with_Sentinel-2_Observations.ipynb","edit_url":"https://github.com/esa-cci/cci-notebook-viewers/edit/main/external_notebooks/esa-cci/ect-demonstrators/demonstrators/CDSE/Matching-FIRE_Data with_Sentinel-2_Observations.ipynb","exports":[{"format":"ipynb","filename":"Matching-FIRE_Data with_Sentinel-2_Observations.ipynb","url":"/cci-demonstrator-viewers/build/Matching-FIRE_Data w-159b425934bfda22a6fad70e7fae40ce.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This notebook serves to demonstrate how data from the CCI FIRE ECV can be matched against single Sentinel-2 Observations provided by the Copernicus Data Space Ecosystem (CDSE). For this, we open the data sets separately and apply operations, some of whom provided by the ESA CCI Toolbox, to bring the data together.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"caHpYAA9cD"}],"key":"TeT5GeI42o"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook runs in any Python environment which has the following packages installed:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZC8ZndGdku"}],"key":"j7eEfcKr80"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":4,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"esa-climate-toolbox","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"YqBOmjvzeD"}],"key":"rphr0BbhuK"}],"key":"b9kNMshC8t"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"xcube-stac","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"osTiVZSDbz"}],"key":"SmheB3gtkJ"}],"key":"GooFTysy7m"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"jupyterlab","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"eSypi3JDXw"}],"key":"VKnJxDrXX3"}],"key":"T5P8tWC7Zx"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"libgdal-netcdf","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZlZEx2vH2j"}],"key":"OAzpJ3clEJ"}],"key":"u058ytXfMW"}],"key":"LMo5pfJVmD"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"For convenience, there is an environment.yml in the folder next to this notebook you can use to create such an environment.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Ez9MIJM3d7"}],"key":"qes1rRfX3j"}],"key":"KHDHkapyX7"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We start with necessary imports beforehand.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DE8OKo7uio"}],"key":"aRR0NwZP5h"}],"key":"p9JnafFmmq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nimport numpy as np\n\nfrom xcube.core.gridmapping import GridMapping\nfrom xcube.core.resampling import resample_in_space\n\nfrom xcube.core.store import new_data_store\n\nfrom esa_climate_toolbox.core import get_op\nfrom esa_climate_toolbox.core import list_ecv_datasets\nfrom esa_climate_toolbox.core import open_data","key":"MC521Ccn3B"},{"type":"outputs","id":"U4vm_8a7V_A4yfrHsxO27","children":[],"key":"UxY3DEAyMF"}],"key":"NAjtWGyZin"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%matplotlib inline","key":"BH9m6WRYzG"},{"type":"outputs","id":"lPK89UkQAdGxEeazh9KDE","children":[],"key":"rc1pU5T2PN"}],"key":"DE0XvQFAoT"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As the CDSE provides data from the Copernicus Sentinel missions, it suggests itself to aim for combinations with data that is based on Sentinel missions. Using ‘list_ecv_datasets’, we may search for datasets for any ECV. We particularly want to look for FIRE data derived from Sentinel data. We may look for such datasets like this:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rDf6rBMB9Z"}],"key":"boJo4OvR7t"}],"key":"LiEGQ7JNeG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"datasets = [(dataset, store) for dataset, store in list_ecv_datasets(\"FIRE\") if \"Sentinel\" in dataset]\ndatasets","key":"L6MQfdQCwN"},{"type":"outputs","id":"zB3iw1Ukx-QZG37mPCNPU","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content_type":"text/plain","hash":"6dc20a06944b6397da55260dc3110f0d","path":"/cci-demonstrator-viewers/build/6dc20a06944b6397da55260dc3110f0d.txt"}}},"children":[],"key":"NaHVD7V4Uc"}],"key":"T7YhM40DsU"}],"key":"W9q4NGFhyp"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Of these, we pick the very first one, esacci.FIRE.mon.L4.BA.MSI-(Sentinel-2).Sentinel-2A.MSI.2-0.grid, which is provided on a global grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZL10SuHWLw"}],"key":"q4N7NpuIGS"}],"key":"fKtn4RO6Gi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fire_ds, ds_name = open_data(\"esacci.FIRE.mon.L4.BA.MSI-(Sentinel-2).Sentinel-2A.MSI.2-0.grid\")\nfire_ds","key":"QOpcsqzLak"},{"type":"outputs","id":"CDIbtDvq5-KbtOCxynuGd","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"db612ff75198a6c3199ea0a58c020a66","path":"/cci-demonstrator-viewers/build/db612ff75198a6c3199ea0a58c020a66.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 27GB\nDimensions:                          (time: 12, lat: 3600, lon: 7200,\n                                      vegetation_class: 18, bounds: 2, bnds: 2)\nCoordinates:\n  * lat                              (lat) float64 29kB 89.97 89.92 ... -89.97\n    lat_bounds                       (lat, bounds) float64 58kB dask.array\u003cchunksize=(3600, 2), meta=np.ndarray\u003e\n  * lon                              (lon) float64 58kB -180.0 -179.9 ... 180.0\n    lon_bounds                       (lon, bounds) float64 115kB dask.array\u003cchunksize=(7200, 2), meta=np.ndarray\u003e\n  * time                             (time) datetime64[ns] 96B 2019-01-16T12:...\n    time_bnds                        (time, bnds) datetime64[ns] 192B dask.array\u003cchunksize=(12, 2), meta=np.ndarray\u003e\n  * vegetation_class                 (vegetation_class) int32 72B 10 20 ... 180\nDimensions without coordinates: bounds, bnds\nData variables:\n    burned_area                      (time, lat, lon) float32 1GB dask.array\u003cchunksize=(1, 1800, 1800), meta=np.ndarray\u003e\n    burned_area_in_vegetation_class  (time, vegetation_class, lat, lon) float32 22GB dask.array\u003cchunksize=(1, 18, 450, 480), meta=np.ndarray\u003e\n    crs                              float64 8B ...\n    fraction_of_burnable_area        (time, lat, lon) float32 1GB dask.array\u003cchunksize=(1, 1800, 1800), meta=np.ndarray\u003e\n    fraction_of_observed_area        (time, lat, lon) float32 1GB dask.array\u003cchunksize=(1, 1800, 1800), meta=np.ndarray\u003e\n    standard_error                   (time, lat, lon) float32 1GB dask.array\u003cchunksize=(1, 1800, 1800), meta=np.ndarray\u003e\n    time_bounds                      (time, bounds) float32 96B dask.array\u003cchunksize=(1, 2), meta=np.ndarray\u003e\nAttributes:\n    Conventions:             CF-1.7\n    title:                   esacci.FIRE.mon.L4.BA.MSI-(Sentinel-2).Sentinel-...\n    date_created:            2025-09-29T15:48:30.342376\n    processing_level:        L4\n    time_coverage_start:     2019-01-01T00:00:00\n    time_coverage_end:       2020-01-01T00:00:00\n    time_coverage_duration:  P365DT0H0M0S\n    history:                 [{'program': 'xcube_cci.chunkstore.CciChunkStore...","content_type":"text/plain"}}},"children":[],"key":"RHwuRuiKeI"}],"key":"zlukjk1Zkx"}],"key":"mqoHCewwqc"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We now plot data from the very first timestep.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"olbOdvRBnX"}],"key":"eoT2hAEwMv"}],"key":"iXd9wOTJ4L"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"subset_time_index = get_op(\"subset_temporal_index\")","key":"kdqtR4v5jr"},{"type":"outputs","id":"yZvZ7zJXrZro50--yKqKx","children":[],"key":"wU2qDW1skf"}],"key":"CSLnnPZmX7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"temp_sub_ds = subset_time_index(fire_ds, 0, 0)\ntemp_sub_ds.burned_area.plot()","key":"HewcX1zkm2"},{"type":"outputs","id":"62LYO5vki2z-7zjDDH7St","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"783e7ff6cf2d1afd537a5844daf46725","path":"/cci-demonstrator-viewers/build/783e7ff6cf2d1afd537a5844daf46725.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"jVuHBt4hjF"}],"key":"rnXlNAE0RO"}],"key":"CHS3aw9QiX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As fire data only seems to be present in the center of the data, we select another subset, this time a spatial one.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OPk1YuMISW"}],"key":"O7ypAiRQqk"}],"key":"dUC6f20IkA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"subset_spatial = get_op(\"subset_spatial\")","key":"ufeZGhDZKj"},{"type":"outputs","id":"6_YHk_C6TTDRUb39bv3sc","children":[],"key":"Axs16uFgcZ"}],"key":"pImJJbkBlg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"spat_temp_sub_ds = subset_spatial(temp_sub_ds, [28, 3, 35, 10])\nspat_temp_sub_ds.burned_area.plot()","key":"xfTAKVq0bT"},{"type":"outputs","id":"7nOfo5cqVL_-RlPZ1g-Rp","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"840d4fb272550453827645b24d325a8c","path":"/cci-demonstrator-viewers/build/840d4fb272550453827645b24d325a8c.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"aQmIGTTt7f"}],"key":"QuLbBRojx1"}],"key":"SIYsYWeCZz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As we now have a single image, we aim for matching it with an observation from the CDSE. For this, we may use the stac-cdse store, which has been installed from the xcube-stac plugin. The store requires credentials, please consider the readme for information on how to obtain them.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JWr7XFf2QF"}],"key":"EBns8GmNc8"}],"key":"g9Z1Ibo9zM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"cdse_credentials = dict(\n    key=\u003cyour_key\u003e,\n    secret=\u003cyour_secret\u003e\n)","key":"KsIIR5J1mm"},{"type":"outputs","id":"BWQ5wHmh_DaZbXwct5L9f","children":[],"key":"wXJGuB5gDy"}],"key":"BAl3nwe4Ds"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"stac_cdse_store = new_data_store(\"stac-cdse\", **cdse_credentials)","key":"Ng5YgIgwOO"},{"type":"outputs","id":"oOPSTF9sZhymLrK9oYZwX","children":[],"key":"viuP2p4KZR"}],"key":"WR5YcTSpRc"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"For more information on how to use the xcube-stac store (and on how to use it also for non-CDSE data), see ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EMltLZisTN"},{"type":"link","url":"https://github.com/xcube-dev/xcube-stac?tab=readme-ov-file#xcube-stac","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/xcube​-dev​/xcube​-stac​?tab​=​readme​-ov​-file​#xcube​-stac","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UaqyY2FiU4"}],"urlSource":"https://github.com/xcube-dev/xcube-stac?tab=readme-ov-file#xcube-stac","error":true,"key":"dP7EohK9xK"},{"type":"text","value":". For now, it should be enough to say that we can use the following code to search for observations from the same day that fall into the bounding box.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tSvpQYP8W9"}],"key":"XufbpGbXav"}],"key":"fUFcSLiatr"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"descriptors = list(\n    stac_cdse_store.search_data(\n        collections=[\"sentinel-2-l2a\"],\n        bbox=[28, 3, 35, 10],\n        time_range=[\"2019-01-16\", \"2019-01-16\"],\n    )\n)\n[d.to_dict() for d in descriptors]","key":"XX3haRFimv"},{"type":"outputs","id":"OSRNHWfWCmPbCmJtmbHFY","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"[{'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36PTS_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [30.256088, 9.85132, 31.233987, 10.850374],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36PTR_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [30.263963, 8.948227, 31.026665, 9.945315],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36PTQ_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [30.271124, 8.044543, 30.819847, 9.039924],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36NTP_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [30.277577, 7.140815, 30.614471, 8.134753],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T36NTN_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [30.283325, 6.682778, 30.409632, 7.230341],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PRM_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.734937, 9.84174, 30.746459, 10.843255],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PRL_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.72785, 8.93954, 30.735722, 9.940221],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PRK_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.721468, 8.037716, 30.725957, 9.03659],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PQM_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.823446, 9.85059, 29.832917, 10.850046],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PQL_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.818718, 8.947565, 29.824788, 9.946435],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PQK_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.814459, 8.043948, 29.817395, 9.04223],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PPM_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.266098, 9.856984, 28.919171, 10.851496],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PPL_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.067201, 8.953363, 28.91366, 9.948586],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35PPK_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.907528, 8.049153, 28.908647, 9.044935],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRJ_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.715785, 7.136132, 30.61246, 8.13291],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRH_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.710797, 6.234699, 30.408392, 7.229728],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRG_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.706494, 5.332349, 30.205604, 6.325964],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRF_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.702871, 4.429617, 30.002872, 5.422165],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NRE_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [29.701721, 4.071181, 29.801139, 4.518878],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQJ_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.810667, 7.140287, 29.810734, 8.137978],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQH_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.807339, 6.237129, 29.8048, 7.234227],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQG_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.804467, 5.333394, 29.799577, 6.329895],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.80205, 4.429659, 29.795065, 5.425531],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQE_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.800085, 3.526896, 29.791258, 4.521681],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQD_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [28.798568, 2.623321, 29.600183, 3.617265],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPJ_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.90563, 7.144901, 28.90413, 8.141019],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPH_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.903965, 6.241155, 28.900107, 7.236927],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPG_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.902528, 5.336833, 28.896566, 6.332255],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPF_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.901318, 4.432483, 28.893506, 5.427551],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPE_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.900335, 3.528653, 28.890925, 4.523363],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')},\n {'data_id': 'collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NPD_20221202T191827',\n  'data_type': 'dataset',\n  'bbox': [27.899576, 2.624261, 28.888816, 3.618609],\n  'time_range': ('2019-01-16T08:23:09.024Z', '2019-01-16T08:23:09.024Z')}]","content_type":"text/plain"}}},"children":[],"key":"aYdFK36mUt"}],"key":"x7oGWBgMGg"}],"key":"XxBS3zi96J"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We may now pick one of them, and we open bands B2, B3, and B4, which come in their 10m resolution.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FrCEXjzYbF"}],"key":"dl7rkcQgue"}],"key":"zMo3fuk4gJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ds = stac_cdse_store.open_data(\n    \"collections/sentinel-2-l2a/items/S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_20221202T191827\",\n    asset_names=[\"B04\", \"B03\", \"B02\"]\n)\nds","key":"DTbosxcmQp"},{"type":"outputs","id":"dg9nd9CDpKXWWo2zY3uUL","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"bf3d970b38e027471b8661ee68117a4a","path":"/cci-demonstrator-viewers/build/bf3d970b38e027471b8661ee68117a4a.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 1GB\nDimensions:      (x: 10980, y: 10980)\nCoordinates:\n  * x            (x) float64 88kB 7e+05 7e+05 7e+05 ... 8.097e+05 8.098e+05\n  * y            (y) float64 88kB 6e+05 6e+05 6e+05 ... 4.902e+05 4.902e+05\n    spatial_ref  int64 8B 0\nData variables:\n    B04          (y, x) float32 482MB dask.array\u003cchunksize=(1024, 1024), meta=np.ndarray\u003e\n    B03          (y, x) float32 482MB dask.array\u003cchunksize=(1024, 1024), meta=np.ndarray\u003e\n    B02          (y, x) float32 482MB dask.array\u003cchunksize=(1024, 1024), meta=np.ndarray\u003e\nAttributes:\n    stac_catalog_url:    https://stac.dataspace.copernicus.eu/v1\n    stac_item_id:        S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_2022120...\n    xcube_stac_version:  1.1.0","content_type":"text/plain"}}},"children":[],"key":"t5Y87YVwSN"}],"key":"DHMwywmgbt"}],"key":"TCkhQgeVDd"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"As this is a bit much for visualisation, we plot images where we only pick the tenth pixel from every row and column of the image.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vPRbcMsRbO"}],"key":"POl4jbsFYr"}],"key":"yQqsc6vAt3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 3, figsize=(20, 6))\nds.B02[::10, ::10].plot(ax=ax[0], vmin=0, vmax=0.2)\nds.B03[::10, ::10].plot(ax=ax[1], vmin=0, vmax=0.2)\nds.B04[::10, ::10].plot(ax=ax[2], vmin=0, vmax=0.2) ","key":"CbUsyNTvHQ"},{"type":"outputs","id":"ZE1B1_ZoY7ZqkuRaImJGB","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7e117407dd477bdf9c01f74709ee0023","path":"/cci-demonstrator-viewers/build/7e117407dd477bdf9c01f74709ee0023.png"},"text/plain":{"content":"\u003cFigure size 2000x600 with 6 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"sSvh3Fm2J2"}],"key":"Avn7pXhMJs"}],"key":"Ht7dihClPw"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we have the two datasets, but they are apparently provided with different spatial extents, even with different coordinate reference systems, which makes comparing the two hard. To easen this, we bring the datasets to the same grid. What we first need to do is to determine the gridmappings of the two datasets. Let’s assume here that we want to bring the data onto the ECV grid, so that grid is the target, whilst the S2 dataset provides the source.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BBgrVEctFe"}],"key":"ACzsZaAjDL"}],"key":"J7artlVJ1T"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"source_gm = GridMapping.from_dataset(ds)\nsource_gm","key":"nQtppt5frZ"},{"type":"outputs","id":"y4sUsVMCeapsqaaIgBaDb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/markdown":{"content":"class: **RegularGridMapping**\n* is_regular: True\n* is_j_axis_up: False\n* is_lon_360: _unknown_\n* crs: PROJCRS[\"WGS 84 / UTM zone 35N\",BASEGEOGCRS[\"WGS 84\",DATUM[\"World Geodetic System 1984\",ELLIPSOID[\"WGS 84\",6378137,298.257223563,LENGTHUNIT[\"metre\",1]]],PRIMEM[\"Greenwich\",0,ANGLEUNIT[\"degree\",0.0174532925199433]],ID[\"EPSG\",4326]],CONVERSION[\"UTM zone 35N\",METHOD[\"Transverse Mercator\",ID[\"EPSG\",9807]],PARAMETER[\"Latitude of natural origin\",0,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8801]],PARAMETER[\"Longitude of natural origin\",27,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8802]],PARAMETER[\"Scale factor at natural origin\",0.9996,SCALEUNIT[\"unity\",1],ID[\"EPSG\",8805]],PARAMETER[\"False easting\",500000,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8806]],PARAMETER[\"False northing\",0,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8807]]],CS[Cartesian,2],AXIS[\"easting\",east,ORDER[1],LENGTHUNIT[\"metre\",1]],AXIS[\"northing\",north,ORDER[2],LENGTHUNIT[\"metre\",1]],ID[\"EPSG\",32635]]\n* xy_res: (10, 10)\n* xy_bbox: (699960, 490200, 809760, 600000)\n* ij_bbox: (0, 0, 10980, 10980)\n* xy_dim_names: ('x', 'y')\n* xy_var_names: ('x', 'y')\n* size: (10980, 10980)\n* tile_size: (1024, 1024)","content_type":"text/markdown"},"text/plain":{"content":"\u003cxcube.core.gridmapping.regular.RegularGridMapping at 0x76eb46bf8cd0\u003e","content_type":"text/plain"}}},"children":[],"key":"dyuZrTOnmt"}],"key":"cFqqDLZbFT"}],"key":"idVRwUsgfz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"target_gm = GridMapping.from_dataset(spat_temp_sub_ds)\ntarget_gm","key":"mRdEHzClV7"},{"type":"outputs","id":"Id1VKa0QSxc_OspopuJ4C","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/markdown":{"content":"class: **RegularGridMapping**\n* is_regular: True\n* is_j_axis_up: False\n* is_lon_360: False\n* crs: EPSG:4326\n* xy_res: (0.05, 0.05)\n* xy_bbox: (27.949999999999996, 3, 35.050000000000004, 10.049999999999992)\n* ij_bbox: (0, 0, 142, 141)\n* xy_dim_names: ('lon', 'lat')\n* xy_var_names: ('lon', 'lat')\n* size: (142, 141)\n* tile_size: (142, 141)","content_type":"text/markdown"},"text/plain":{"content":"\u003cxcube.core.gridmapping.regular.RegularGridMapping at 0x76eb46bf8f50\u003e","content_type":"text/plain"}}},"children":[],"key":"IWwyzUdAil"}],"key":"JQoePqU4PM"}],"key":"GqqUoZUKT0"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now this is defined, we can use xcube’s resample_in_space function (as introduced in the notebook showcasing how to reproject with the ESA CCI Toolbox) to bring the S2 Data to the other grid.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WIdi1Oy3Sr"}],"key":"n05iurQ0qX"}],"key":"Q2TtIBAKQ5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"resampled_ds = resample_in_space(\n    ds,\n    source_gm=source_gm,\n    target_gm=target_gm,\n)\nresampled_ds","key":"TpW81TgsQx"},{"type":"outputs","id":"WY2ghqHWSM76i3jVBzc_c","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":16,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"ad935113c513d39403861f7cc9c2bd90","path":"/cci-demonstrator-viewers/build/ad935113c513d39403861f7cc9c2bd90.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 247kB\nDimensions:   (lat: 141, lon: 142, bnds: 2)\nCoordinates:\n  * lat       (lat) float64 1kB 10.02 9.975 9.925 9.875 ... 3.125 3.075 3.025\n  * lon       (lon) float64 1kB 27.97 28.02 28.07 28.12 ... 34.93 34.98 35.03\n    lon_bnds  (lon, bnds) float64 2kB 27.95 28.0 28.0 28.05 ... 35.0 35.0 35.05\n    lat_bnds  (lat, bnds) float64 2kB 10.05 10.0 10.0 9.95 ... 3.1 3.05 3.05 3.0\nDimensions without coordinates: bnds\nData variables:\n    B04       (lat, lon) float32 80kB nan nan nan nan nan ... nan nan nan nan\n    B03       (lat, lon) float32 80kB nan nan nan nan nan ... nan nan nan nan\n    B02       (lat, lon) float32 80kB nan nan nan nan nan ... nan nan nan nan\nAttributes:\n    stac_catalog_url:    https://stac.dataspace.copernicus.eu/v1\n    stac_item_id:        S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_2022120...\n    xcube_stac_version:  1.1.0","content_type":"text/plain"}}},"children":[],"key":"BhUjJI1dCU"}],"key":"JXgO0sfCSC"}],"key":"BCjUF1jFR2"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We may now plot data from the resulting image.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wJs5KhCdwU"}],"key":"fcTM8eiBUt"}],"key":"ZbM3yENyO4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"resampled_ds.B02.plot()","key":"VGtACFNuUT"},{"type":"outputs","id":"XPoQDs2LQ4ZYoJNOsibEu","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"81e23e7e3491798064de5e2566e19e70","path":"/cci-demonstrator-viewers/build/81e23e7e3491798064de5e2566e19e70.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"xp7MWw6Bta"}],"key":"tAmLudTsiX"}],"key":"KoVZIU2MQQ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s try this the other way round: What would it look like if we’d map the fire data onto the S2 grid? To make this better to handle, we build a subset of the S2 grid, where we pick only every tenth pixel x- and y-wise.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vuw9tFlouy"}],"key":"tcSWDkY7Ye"}],"key":"uzsdKaYmII"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"s2_ds = ds.isel({\"x\":slice(0, 10980, 10), \"y\":slice(0, 10980, 10)})\ns2_ds","key":"JYYr6bWqFO"},{"type":"outputs","id":"sItOv76qRdRSSTQaF3tVo","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"36fe3594327fceec9b10e049e3a67d18","path":"/cci-demonstrator-viewers/build/36fe3594327fceec9b10e049e3a67d18.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 14MB\nDimensions:      (x: 1098, y: 1098)\nCoordinates:\n  * x            (x) float64 9kB 7e+05 7.001e+05 ... 8.096e+05 8.097e+05\n  * y            (y) float64 9kB 6e+05 5.999e+05 ... 4.904e+05 4.903e+05\n    spatial_ref  int64 8B 0\nData variables:\n    B04          (y, x) float32 5MB dask.array\u003cchunksize=(103, 103), meta=np.ndarray\u003e\n    B03          (y, x) float32 5MB dask.array\u003cchunksize=(103, 103), meta=np.ndarray\u003e\n    B02          (y, x) float32 5MB dask.array\u003cchunksize=(103, 103), meta=np.ndarray\u003e\nAttributes:\n    stac_catalog_url:    https://stac.dataspace.copernicus.eu/v1\n    stac_item_id:        S2B_MSIL2A_20190116T082309_N0500_R121_T35NQF_2022120...\n    xcube_stac_version:  1.1.0","content_type":"text/plain"}}},"children":[],"key":"IVE1s3mZFX"}],"key":"WFOtAxeIt7"}],"key":"twrLolFKci"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We redefine the values for source_gm and target_gm ...","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RI4zb2SPPG"}],"key":"qKwveO6HIQ"}],"key":"khHV2S7iux"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"source_gm = target_gm","key":"hPpVhueAtF"},{"type":"outputs","id":"URu5Zd819lIxILEKGAkdq","children":[],"key":"vJkwJLRsD0"}],"key":"Hk71ZRQT3I"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"target_gm = GridMapping.from_dataset(s2_ds)\ntarget_gm","key":"nJbknycnr4"},{"type":"outputs","id":"kSy-9KJoODKmGwnMEU7Hf","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/markdown":{"content":"class: **RegularGridMapping**\n* is_regular: True\n* is_j_axis_up: False\n* is_lon_360: _unknown_\n* crs: PROJCRS[\"WGS 84 / UTM zone 35N\",BASEGEOGCRS[\"WGS 84\",DATUM[\"World Geodetic System 1984\",ELLIPSOID[\"WGS 84\",6378137,298.257223563,LENGTHUNIT[\"metre\",1]]],PRIMEM[\"Greenwich\",0,ANGLEUNIT[\"degree\",0.0174532925199433]],ID[\"EPSG\",4326]],CONVERSION[\"UTM zone 35N\",METHOD[\"Transverse Mercator\",ID[\"EPSG\",9807]],PARAMETER[\"Latitude of natural origin\",0,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8801]],PARAMETER[\"Longitude of natural origin\",27,ANGLEUNIT[\"degree\",0.0174532925199433],ID[\"EPSG\",8802]],PARAMETER[\"Scale factor at natural origin\",0.9996,SCALEUNIT[\"unity\",1],ID[\"EPSG\",8805]],PARAMETER[\"False easting\",500000,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8806]],PARAMETER[\"False northing\",0,LENGTHUNIT[\"metre\",1],ID[\"EPSG\",8807]]],CS[Cartesian,2],AXIS[\"easting\",east,ORDER[1],LENGTHUNIT[\"metre\",1]],AXIS[\"northing\",north,ORDER[2],LENGTHUNIT[\"metre\",1]],ID[\"EPSG\",32635]]\n* xy_res: (100, 100)\n* xy_bbox: (699915, 490245, 809715, 600045)\n* ij_bbox: (0, 0, 1098, 1098)\n* xy_dim_names: ('x', 'y')\n* xy_var_names: ('x', 'y')\n* size: (1098, 1098)\n* tile_size: (103, 103)","content_type":"text/markdown"},"text/plain":{"content":"\u003cxcube.core.gridmapping.regular.RegularGridMapping at 0x76eb46f4a190\u003e","content_type":"text/plain"}}},"children":[],"key":"Io96xKSvvd"}],"key":"ng7xlegZ3l"}],"key":"GPV8D9f2oY"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"And now we may resample the s2 dataset to the fire dataset. (We squeeze it to get rid of the time dimension, which is unnecessary here, as the dataset only has one timestep).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PSWHgy6WZQ"}],"key":"tNX0rm1j2l"}],"key":"m83725zrpf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"resampled_ds = resample_in_space(\n    spat_temp_sub_ds.squeeze(),\n    source_gm=source_gm,\n    target_gm=target_gm,\n)\nresampled_ds","key":"XgksNtUkzi"},{"type":"outputs","id":"bu3wruCRXDsooCdMnq0cm","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":21,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"87f7c2c3e8e8a653badf04e98f3820e3","path":"/cci-demonstrator-viewers/build/87f7c2c3e8e8a653badf04e98f3820e3.html"},"text/plain":{"content":"\u003cxarray.Dataset\u003e Size: 106MB\nDimensions:                          (y: 1098, x: 1098, vegetation_class: 18,\n                                      bnds: 2)\nCoordinates:\n  * y                                (y) float64 9kB 6e+05 ... 4.903e+05\n  * x                                (x) float64 9kB 7e+05 ... 8.097e+05\n  * vegetation_class                 (vegetation_class) int32 72B 10 20 ... 180\n    x_bnds                           (x, bnds) float64 18kB 6.999e+05 ... 8.0...\n    y_bnds                           (y, bnds) float64 18kB 6e+05 ... 4.902e+05\nDimensions without coordinates: bnds\nData variables:\n    burned_area                      (y, x) float32 5MB dask.array\u003cchunksize=(103, 103), meta=np.ndarray\u003e\n    burned_area_in_vegetation_class  (vegetation_class, y, x) float32 87MB dask.array\u003cchunksize=(18, 103, 103), meta=np.ndarray\u003e\n    fraction_of_burnable_area        (y, x) float32 5MB dask.array\u003cchunksize=(103, 103), meta=np.ndarray\u003e\n    fraction_of_observed_area        (y, x) float32 5MB dask.array\u003cchunksize=(103, 103), meta=np.ndarray\u003e\n    standard_error                   (y, x) float32 5MB dask.array\u003cchunksize=(103, 103), meta=np.ndarray\u003e\n    crs                              int64 8B 0\nAttributes: (12/18)\n    Conventions:                CF-1.7\n    title:                      esacci.FIRE.mon.L4.BA.MSI-(Sentinel-2).Sentin...\n    date_created:               2025-09-29T15:48:30.342376\n    processing_level:           L4\n    time_coverage_start:        2019-01-01T00:00:00\n    time_coverage_end:          2020-01-01T00:00:00\n    ...                         ...\n    geospatial_lat_resolution:  0.04999999999999716\n    geospatial_lat_min:         3.0\n    geospatial_lat_max:         10.049999999999997\n    geospatial_lat_units:       degree_north\n    geospatial_bounds_crs:      CRS84\n    geospatial_bounds:          POLYGON((27.94999999999999 3.0, 27.9499999999...","content_type":"text/plain"}}},"children":[],"key":"FlFNLI9hLP"}],"key":"ZUp6gETeaN"}],"key":"BnkyLJ0bni"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"... and we may now reproject the data to see it is on the same grid as the S2 Data.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hIFzY2aGHc"}],"key":"pUTurCvaIH"}],"key":"HD9qaQ4TNf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"resampled_ds.burned_area.plot()","key":"Yf7pgLE2be"},{"type":"outputs","id":"pZEAD5cwhmpUb51_NY45q","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"da25999fc1d76b39f2aa3de92dd3e442","path":"/cci-demonstrator-viewers/build/da25999fc1d76b39f2aa3de92dd3e442.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"PHNO201Gpa"}],"key":"jc0KUE4xmZ"}],"key":"tYA4L77rJu"}],"key":"obmcedgyxn"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Airflow Demonstrator","url":"/external-notebooks/esa-cci/ect-demonstrators/demonstrators/airflow/readme","group":"Airflow"},"next":{"title":"Matching LST Data with a Sentinel-3 Cube","url":"/external-notebooks/esa-cci/ect-demonstrators/demonstrators/cdse/matching-lst-data-with-a-sentinel-3-cube","group":"CDSE"}}},"domain":"http://localhost:3000"},"project":{"subject":"CCI Examples","title":"CCI Examples","description":"Collection of examples relevant to the CCI activity","github":"https://github.com/esa-cci/cci-notebook-viewers","id":"5aa0318b-5bc1-41e2-b1d4-053e8b61961b","exports":[],"bibliography":[],"index":"readme","pages":[{"title":"External Notebooks","level":1},{"title":"Esa Cci","level":2},{"title":"Ect Demonstrators","level":3},{"slug":"external-notebooks.esa-cci.ect-demonstrators.readme","title":"ect-demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Demonstrators","level":4},{"title":"Airflow","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.airflow.readme","title":"Airflow Demonstrator","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"CDSE","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-fire-data-with-sentinel-2-observations","title":"Matching FIRE Data with Sentinel-2 Observations","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.matching-lst-data-with-a-sentinel-3-cube","title":"Matching LST Data with a Sentinel-3 Cube","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.cdse.readme","title":"CDSE Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"title":"D3 Js","level":5},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.readme","title":"D3.js Demonstrators","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-lc-classes","title":"Visualising Land Cover Class Change with Altair","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualise-uncertainties","title":"Visualizing Cloud Fraction Uncertainties with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6},{"slug":"external-notebooks.esa-cci.ect-demonstrators.demonstrators.d3-js.d3-js-visualize-4d-data","title":"Visualizing 4-dimensional Data with Altair and Plotly","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":6}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/cci-demonstrator-viewers/build/manifest-5D5D9E8C.js";
import * as route0 from "/cci-demonstrator-viewers/build/root-AA24SA6C.js";
import * as route1 from "/cci-demonstrator-viewers/build/routes/$-5SFLQWPV.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/cci-demonstrator-viewers/build/entry.client-PCJPW7TK.js");</script></body></html>